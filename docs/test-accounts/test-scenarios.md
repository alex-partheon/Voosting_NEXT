# 역할별 테스트 시나리오

Voosting 플랫폼의 주요 기능을 체계적으로 테스트하기 위한 역할별 상세 시나리오입니다.

## 🎯 테스트 목표

1. **기능 완성도**: 각 역할별 핵심 기능 동작 확인
2. **사용자 경험**: 실제 사용 플로우 검증
3. **권한 제어**: 역할별 접근 권한 확인
4. **데이터 무결성**: 추천 체인 및 결제 시스템 검증
5. **성능**: 응답 시간 및 사용성 체크

## 👨‍🎨 크리에이터 테스트 시나리오

### 기본 인증 및 접근 테스트

#### 시나리오 C1: 로그인 및 대시보드 접근
**목표**: 크리에이터 계정 인증 및 기본 접근 확인

**테스트 단계**:
1. http://localhost:3002 접속
2. creator1@test.com / testPassword123! 로그인
3. 자동 리다이렉션 확인: http://creator.localhost:3002/dashboard

**예상 결과**:
- ✅ 로그인 성공
- ✅ 크리에이터 대시보드로 자동 이동
- ✅ 개인화된 환영 메시지: "안녕하세요, 크리에이터 1호님!"
- ✅ 수익 통계 위젯 표시
- ✅ 최근 캠페인 현황 표시

**실패 케이스**:
- ❌ 로그인 실패 시 적절한 에러 메시지
- ❌ 잘못된 도메인 접근 시 적절한 리다이렉션

#### 시나리오 C2: 프로필 관리
**목표**: 크리에이터 프로필 조회 및 수정 기능

**테스트 단계**:
1. 대시보드에서 "프로필" 메뉴 클릭
2. 기본 정보 확인 (이름, 이메일, 추천 코드)
3. 프로필 정보 수정 (bio, 웹사이트, 소셜 링크)
4. 전문 카테고리 설정 (뷰티, 라이프스타일)
5. 저장 버튼 클릭

**예상 결과**:
- ✅ 기존 정보 정확히 로드됨
- ✅ 추천 코드 CREATOR1 표시
- ✅ 팔로워 수, 참여율 통계 표시
- ✅ 수정 사항 저장 성공
- ✅ "프로필이 업데이트되었습니다" 메시지

**검증 포인트**:
- 이메일은 읽기 전용인지 확인
- 추천 코드는 수정 불가인지 확인
- 유효성 검사 (URL 형식, 카테고리 선택 등)

### 캠페인 및 신청 테스트

#### 시나리오 C3: 캠페인 목록 조회
**목표**: 활성 캠페인 목록 및 필터링 기능

**테스트 단계**:
1. "캠페인" 메뉴 클릭
2. 전체 캠페인 목록 확인
3. 카테고리 필터 적용 (뷰티, 라이프스타일)
4. 예산 범위 필터 적용
5. 각 캠페인 상세 정보 클릭

**예상 결과**:
- ✅ 2개의 활성 캠페인 표시
- ✅ 캠페인별 기본 정보 (제목, 예산, 커미션율)
- ✅ 필터링 동작 정상
- ✅ 신청 가능/불가능 상태 표시
- ✅ 이미 신청한 캠페인 구분 표시

**검증 포인트**:
- 비활성 캠페인은 보이지 않는지 확인
- 신청 기간이 지난 캠페인 처리 확인

#### 시나리오 C4: 캠페인 신청
**목표**: 새로운 캠페인에 신청서 작성 및 제출

**테스트 단계**:
1. 신규 캠페인(business2가 생성한 것) 선택
2. "신청하기" 버튼 클릭
3. 신청서 작성:
   - 자기소개 메시지
   - 포트폴리오 링크
   - 제안 내용
4. 제출 전 미리보기
5. 최종 제출

**예상 결과**:
- ✅ 신청서 양식 정상 표시
- ✅ 필수 항목 유효성 검사
- ✅ 미리보기 기능 동작
- ✅ 제출 성공 메시지
- ✅ 신청 상태 "대기 중"으로 변경

**검증 포인트**:
- 중복 신청 방지 확인
- 신청 취소 기능 확인
- 신청서 수정 불가 확인

#### 시나리오 C5: 신청 현황 관리  
**목표**: 제출한 신청서 현황 및 결과 확인

**테스트 단계**:
1. "내 신청서" 메뉴 클릭
2. 신청서 목록 확인
3. 각 신청서별 상태 확인:
   - 승인됨 (creator1 → 캠페인1)
   - 대기 중 (creator2 → 캠페인1)
   - 거절됨 (creator3 → 캠페인1)
4. 거절 사유 확인
5. 승인된 신청서 상세 정보

**예상 결과**:
- ✅ 신청서별 명확한 상태 표시
- ✅ 승인/거절 날짜 표시
- ✅ 거절 사유 상세 내용
- ✅ 승인된 경우 다음 단계 안내
- ✅ 리뷰어 정보 (비즈니스 담당자)

### 수익 및 추천 테스트

#### 시나리오 C6: 수익 통계 확인
**목표**: 직접 수익 및 추천 수익 통계 조회

**테스트 단계**:
1. "수익" 메뉴 클릭
2. 총 수익 대시보드 확인
3. 직접 수익 상세 내역:
   - 완료된 캠페인 수익
   - 진행 중인 캠페인 예상 수익
4. 추천 수익 상세 내역:
   - L1 추천 수익 (creator2에서)
   - L2 추천 수익 (creator3에서)
5. 월별/연도별 통계 차트

**예상 결과**:
- ✅ 총 수익 금액 정확히 계산됨
- ✅ 직접 수익과 추천 수익 분리 표시
- ✅ 각 수익의 소스 정보 (캠페인, 추천인)
- ✅ 정산 완료/대기 상태 구분
- ✅ 시각적 차트로 트렌드 표시

**검증 포인트**:
- 수익 계산 정확도 (커미션율 적용)
- 추천 수익 계산 (10%, 5%, 2%)
- 세금 정보 표시 (원천징수 등)

#### 시나리오 C7: 추천 관리  
**목표**: 추천 코드 공유 및 추천 현황 관리

**테스트 단계**:
1. "추천" 메뉴 클릭
2. 내 추천 코드 확인 및 복사
3. 추천 링크 생성
4. 추천한 사용자 목록:
   - L1: creator2 (직접 추천)
   - L2: creator3 (간접 추천)
5. 각 추천인별 수익 기여도
6. 추천 코드 공유 기능

**예상 결과**:
- ✅ 추천 코드 CREATOR1 표시
- ✅ 추천 링크 자동 생성
- ✅ QR 코드 생성 (선택사항)
- ✅ 추천인 목록 및 가입일
- ✅ 각 추천인별 기여 수익
- ✅ 소셜 공유 버튼들

## 🏢 비즈니스 테스트 시나리오

### 캠페인 관리 테스트

#### 시나리오 B1: 로그인 및 대시보드 접근
**목표**: 비즈니스 계정 인증 및 기본 기능 확인

**테스트 단계**:
1. business1@test.com 로그인
2. business.localhost:3002/dashboard 접근
3. 대시보드 위젯 확인:
   - 운영 중인 캠페인 수
   - 신청자 수
   - 총 예산 및 지출
4. 최근 활동 내역

**예상 결과**:
- ✅ 비즈니스 대시보드 정상 접근
- ✅ 캠페인 통계: 2개 운영 중
- ✅ 신청자 통계: 5명 신청
- ✅ 예산 현황: 800만원 중 350만원 지출
- ✅ 최근 신청서 및 승인 내역

#### 시나리오 B2: 새 캠페인 생성
**목표**: 캠페인 생성 워크플로우 전체 테스트

**테스트 단계**:
1. "캠페인 생성" 버튼 클릭
2. 기본 정보 입력:
   - 제목: "여름 신상품 홍보 캠페인"
   - 설명: 상세 캠페인 내용
   - 카테고리: 패션, 라이프스타일
3. 요구사항 설정:
   - 최소 팔로워: 5,000명
   - 플랫폼: 인스타그램, 틱톡
   - 콘텐츠 개수: 2개
   - 진행 기간: 3주
4. 예산 및 커미션 설정:
   - 총 예산: 200만원
   - 크리에이터 커미션: 18%
5. 일정 설정 및 활성화

**예상 결과**:
- ✅ 단계별 양식 검증 정상
- ✅ 미리보기 기능 동작
- ✅ 캠페인 생성 성공
- ✅ 캠페인 목록에 새 캠페인 추가
- ✅ 상태: "활성" 표시

**검증 포인트**:
- 필수 항목 누락시 에러 처리
- 예산 범위 유효성 검사
- 일정 충돌 검사

#### 시나리오 B3: 신청서 검토 및 승인
**목표**: 크리에이터 신청서 검토 프로세스

**테스트 단계**:
1. "신청서 관리" 메뉴 클릭
2. 대기 중인 신청서 목록 확인
3. creator2의 신청서 상세 검토:
   - 신청자 프로필 정보
   - 포트폴리오 링크 확인
   - 팔로워 수 및 참여율
4. 신청서 승인 처리:
   - 승인 메모 작성
   - 추가 요구사항 명시
5. creator3의 신청서 거절:
   - 거절 사유 선택
   - 상세 피드백 작성

**예상 결과**:
- ✅ 신청서 목록 필터링 (대기/승인/거절)
- ✅ 신청자 상세 정보 팝업
- ✅ 외부 링크 (포트폴리오) 새 탭 열기
- ✅ 승인/거절 처리 성공
- ✅ 신청자에게 알림 발송 (이메일/앱)
- ✅ 신청서 상태 실시간 업데이트

#### 시나리오 B4: 결제 및 정산 관리
**목표**: 승인된 크리에이터에 대한 결제 처리

**테스트 단계**:
1. "결제 관리" 메뉴 클릭
2. 승인된 신청서별 결제 생성:
   - creator1의 캠페인1 완료 확인
   - 결제 금액 계산 확인
   - 결제 정보 입력
3. 결제 처리:
   - 결제 방법 선택 (계좌이체)
   - 거래 ID 입력
   - 결제 완료 처리
4. 추천 수익 자동 분배 확인
5. 정산 내역 조회

**예상 결과**:
- ✅ 결제 대상자 목록 정확함
- ✅ 커미션 금액 자동 계산
- ✅ 결제 처리 성공
- ✅ 추천 수익 자동 생성 확인
- ✅ 결제 완료 알림 발송
- ✅ 회계 기록 생성

**검증 포인트**:
- 중복 결제 방지
- 추천 수익 계산 정확도 (10%→5%→2%)
- 결제 취소 기능

### 분석 및 보고서 테스트

#### 시나리오 B5: 캠페인 성과 분석
**목표**: 캠페인별 상세 성과 및 ROI 분석

**테스트 단계**:
1. "분석" 메뉴 클릭
2. 캠페인별 성과 비교:
   - 신청자 수
   - 승인률
   - 완료율
   - 평균 커미션
3. 크리에이터 성과 분석:
   - 상위 퍼포머 목록
   - 카테고리별 성과
   - 반복 참여자
4. 예산 대비 효율성
5. 월별 트렌드 분석

**예상 결과**:
- ✅ 시각적 차트 및 그래프
- ✅ 캠페인별 비교 테이블
- ✅ 핵심 KPI 대시보드
- ✅ 데이터 내보내기 (Excel/PDF)
- ✅ 예측 분석 (선택사항)

## 👨‍💼 관리자 테스트 시나리오

### 플랫폼 관리 테스트

#### 시나리오 A1: 시스템 대시보드 접근
**목표**: 관리자 권한 및 전체 시스템 현황 모니터링

**테스트 단계**:
1. admin@test.com 로그인
2. admin.localhost:3002/dashboard 접근
3. 전체 통계 확인:
   - 총 사용자 수: 6명
   - 총 캠페인 수: 2개
   - 총 거래액 통계
   - 추천 수익 총합
4. 실시간 활동 모니터링
5. 시스템 상태 확인

**예상 결과**:
- ✅ 관리자 대시보드 접근 성공
- ✅ 플랫폼 전체 KPI 표시
- ✅ 사용자/캠페인/결제 통계
- ✅ 최근 가입자 및 활동
- ✅ 시스템 건강 상태 지표

#### 시나리오 A2: 사용자 관리
**목표**: 전체 사용자 조회 및 권한 관리

**테스트 단계**:
1. "사용자 관리" 메뉴 클릭
2. 전체 사용자 목록 조회
3. 각 사용자 상세 정보:
   - 프로필 정보
   - 활동 내역
   - 수익 정보
   - 추천 관계
4. 사용자 역할 변경 테스트:
   - creator3를 business로 변경
   - 변경 사항 확인
5. 계정 상태 관리 (활성/비활성)

**예상 결과**:
- ✅ 전체 사용자 목록 6명 표시
- ✅ 역할별 필터링 기능
- ✅ 사용자별 상세 프로필 조회
- ✅ 역할 변경 기능 동작
- ✅ 변경 내역 로그 기록
- ✅ 권한 변경 즉시 반영

#### 시나리오 A3: 캠페인 승인 및 모니터링
**목표**: 전체 캠페인 관리 및 내용 검토

**테스트 단계**:
1. "캠페인 관리" 메뉴 클릭
2. 모든 캠페인 목록 (활성/비활성 포함)
3. 캠페인 내용 검토:
   - 부적절한 내용 확인
   - 요구사항 적절성
   - 예산 합리성
4. 캠페인 강제 중단:
   - 중단 사유 작성
   - 관련자 알림
5. 캠페인 승인/거절 처리

**예상 결과**:
- ✅ 전체 캠페인 관리 권한
- ✅ 캠페인 상태 변경 가능
- ✅ 강제 중단 기능 동작
- ✅ 비즈니스 측에 알림 발송
- ✅ 진행 중인 신청서 처리 방안

#### 시나리오 A4: 추천 수익 관리 및 어뷰징 방지
**목표**: 추천 시스템 무결성 및 어뷰징 탐지

**테스트 단계**:
1. "추천 관리" 메뉴 클릭
2. 전체 추천 체인 시각화
3. 추천 수익 내역 전체 조회:
   - 레벨별 수익 분배
   - 계산 정확도 검증
   - 이상 패턴 탐지
4. 어뷰징 의심 사례 확인:
   - 단기간 대량 가입
   - 동일 IP/기기 가입
   - 인위적 추천 생성
5. 추천 관계 강제 해제 테스트

**예상 결과**:
- ✅ 추천 체인 트리 구조 시각화
- ✅ 레벨별 수익 정확한 계산
- ✅ 의심 패턴 자동 탐지 알고리즘
- ✅ 수동 검토 대상 플래그
- ✅ 추천 관계 해제 기능
- ✅ 관련 수익 정산 처리

### 보안 및 모니터링 테스트

#### 시나리오 A5: 결제 분쟁 및 환불 처리
**목표**: 결제 관련 이슈 처리 및 분쟁 해결

**테스트 단계**:
1. "결제 관리" 메뉴 클릭
2. 모든 결제 내역 조회
3. 분쟁 사례 생성:
   - creator1의 결제에 대한 분쟁 신고
   - 분쟁 사유 및 증빙 자료
4. 분쟁 처리 프로세스:
   - 양측 의견 수렴
   - 증빙 자료 검토
   - 처리 결과 결정
5. 환불 처리 (필요시)

**예상 결과**:
- ✅ 전체 결제 내역 관리 권한
- ✅ 분쟁 신고 접수 기능
- ✅ 처리 프로세스 워크플로우
- ✅ 증빙 자료 첨부 기능
- ✅ 환불 처리 및 회계 반영
- ✅ 관련자 알림 발송

## 🔄 통합 시나리오

### 전체 플로우 테스트

#### 시나리오 I1: 완전한 캠페인 생명주기
**목표**: 캠페인 생성부터 완료까지 전체 프로세스

**테스트 단계**:
1. **business2**: 새 캠페인 생성
2. **creator3**: 새 캠페인에 신청
3. **business2**: 신청서 검토 및 승인
4. **creator3**: 캠페인 수행 (시뮬레이션)
5. **business2**: 결과 확인 및 결제 처리
6. **시스템**: 추천 수익 자동 분배
7. **admin**: 전체 프로세스 모니터링

**예상 결과**:
- ✅ 각 단계별 원활한 진행
- ✅ 역할별 알림 및 상태 업데이트
- ✅ 추천 수익 정확한 분배
- ✅ 모든 데이터 무결성 유지

#### 시나리오 I2: 추천 체인 수익 분배 검증
**목표**: 3단계 추천 체인의 정확한 수익 분배

**테스트 단계**:
1. creator3가 새 캠페인 승인받음
2. 100만원 결제 완료 처리
3. 추천 수익 자동 계산:
   - creator2: 10만원 (L1, 10%)
   - creator1: 5만원 (L2, 5%)
4. 각 계정에서 수익 확인
5. 정산 처리 및 알림

**예상 결과**:
- ✅ 추천 수익 정확한 계산
- ✅ 실시간 잔액 업데이트
- ✅ 수익 내역 상세 기록
- ✅ 관련자 모두에게 알림

## 📊 성능 및 사용성 테스트

### 성능 테스트

#### 페이지 로드 속도
- **목표**: 모든 페이지 3초 이내 로드
- **측정**: 개발자 도구 Network 탭 활용
- **임계값**: 첫 화면 1초, 전체 로드 3초

#### API 응답 시간
- **목표**: 모든 API 500ms 이내 응답
- **측정**: 개발자 도구 Network 탭 활용
- **임계값**: 단순 조회 200ms, 복잡 계산 500ms

### 사용성 테스트

#### 모바일 반응형
- **목표**: 모든 기능 모바일에서 정상 동작
- **테스트**: 개발자 도구 디바이스 시뮬레이션
- **기기**: iPhone 12, Galaxy S21, iPad

#### 접근성
- **목표**: 웹 접근성 기본 준수
- **도구**: Lighthouse 접근성 점수 80점 이상
- **항목**: 키보드 네비게이션, 스크린 리더 지원

---

**참고**: 이 시나리오들은 개발 진행에 따라 지속적으로 업데이트됩니다.