# Voosting (ë¶€ìŠ¤íŒ…) ì„œë¹„ìŠ¤ ì œí’ˆ ìš”êµ¬ì‚¬í•­ ë¬¸ì„œ (PRD) - Next.js 15

ë¬¸ì„œ ë²„ì „: 6.0  
ìµœì¢… ìˆ˜ì •ì¼: 2025ë…„ 7ì›” 30ì¼  
ê¸°ìˆ  ìŠ¤íƒ: Next.js 15 + TypeScript + Supabase + Tailwind CSS + Clerk Auth  
**ğŸ¯ MVP ì „ëµ**: 3ë‹¨ê³„ MVP ê°œë°œ (Core â†’ Enhanced â†’ Full Product)

## ğŸ“‹ MVP ê°œë°œ ê°€ì´ë“œ

> **ì¤‘ìš”**: ë³¸ PRDëŠ” 3ë‹¨ê³„ MVP ì „ëµì— ë”°ë¼ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ê° ê¸°ëŠ¥ë³„ë¡œ MVP ë‹¨ê³„ê°€ ëª…ì‹œë˜ì–´ ìˆìœ¼ë‹ˆ ê°œë°œ ìš°ì„ ìˆœìœ„ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

### MVP ì „ëµ ê°œìš”

- **Core MVP (8ì£¼)**: ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸ ê²€ì¦ì„ ìœ„í•œ í•µì‹¬ ê¸°ëŠ¥ë§Œ êµ¬í˜„
- **Enhanced MVP (4ì£¼)**: ì°¨ë³„í™”ë¥¼ ìœ„í•œ ê³ ê¸‰ ê¸°ëŠ¥ ì¶”ê°€
- **Full Product (4ì£¼)**: ì™„ì„±ë„ ë†’ì€ ì œí’ˆìœ¼ë¡œ ì‹œì¥ ì¶œì‹œ

### ê´€ë ¨ MVP ë¬¸ì„œ

- [MVP ë¡œë“œë§µ](./mvp/MVP-ROADMAP.md)
- [Core MVP ìƒì„¸ ê³„íš](./mvp/CORE-MVP.md)
- [Enhanced MVP ê³„íš](./mvp/ENHANCED-MVP.md)
- [íƒœìŠ¤í¬ ìš°ì„ ìˆœìœ„ ì¬ë¶„ë¥˜](./mvp/TASK-PRIORITY-RECLASSIFICATION.md)

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1. í”„ë¡œì íŠ¸ ëª…

ìºì‰¬ì—… (CashUp)

### 1.2. ë¯¸ì…˜

AI ê¸°ìˆ ì„ í†µí•´ ê´‘ê³ ì£¼ì™€ **í¬ë¦¬ì—ì´í„°(ë ˆí¼ëŸ¬)**ë¥¼ ì§€ëŠ¥ì ìœ¼ë¡œ ì—°ê²°í•˜ì—¬, ë°ì´í„° ê¸°ë°˜ì˜ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  íš¨ìœ¨ì ì¸ ì„±ê³¼ ë§ˆì¼€íŒ… ìƒíƒœê³„ë¥¼ êµ¬ì¶•í•œë‹¤.

### 1.3. í•µì‹¬ ì„œë¹„ìŠ¤

Voosting: ê´‘ê³ ì£¼ì˜ ì˜¨ë¼ì¸ ì±„ë„ ì„±ì¥ì„ ìœ„í•´, í¬ë¦¬ì—ì´í„°ê°€ ìì‹ ì˜ ì˜í–¥ë ¥(ë¸”ë¡œê·¸, SNS ë“±)ì„ í™œìš©í•´ ìº í˜ì¸ì„ í™ë³´í•˜ê±°ë‚˜ ì§ì ‘ ë¯¸ì…˜ì— ì°¸ì—¬í•˜ê³  ë³´ìƒì„ ë°›ëŠ” PWA ì„œë¹„ìŠ¤.

### 1.4. ì£¼ìš” ì‚¬ìš©ì (User Persona)

#### 1.4.1. ì´ì¤‘ íƒ€ê²Ÿ ì „ëµ

Voostingì€ ë‘ ê°œì˜ ì£¼ìš” íƒ€ê²Ÿ ê·¸ë£¹ì„ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ” **ì´ì¤‘ íƒ€ê²Ÿ ë§ˆì¼€íŒ… í”Œë«í¼**ì…ë‹ˆë‹¤. ê° ê·¸ë£¹ì€ ì„œë¡œ ë‹¤ë¥¸ ë‹ˆì¦ˆì™€ ë™ê¸°ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©°, í”Œë«í¼ì€ ì´ë“¤ì„ íš¨ê³¼ì ìœ¼ë¡œ ì—°ê²°í•˜ëŠ” ë§¤ê°œì²´ ì—­í• ì„ í•©ë‹ˆë‹¤.

#### 1.4.2. ì£¼ìš” ì‚¬ìš©ì ê·¸ë£¹

**ê´‘ê³ ì£¼ (ë¹„ì¦ˆë‹ˆìŠ¤)**

- **ì •ì˜**: ì˜¨ë¼ì¸ í™ë³´, ì±„ë„ ì„±ì¥, ê³ ê° ì°¸ì—¬ ìœ ë„ê°€ í•„ìš”í•œ ì†Œìƒê³µì¸ ë° ì¤‘ì†Œê¸°ì—…
- **ì£¼ìš” ë‹ˆì¦ˆ**:
  - ê²€ì¦ëœ í¬ë¦¬ì—ì´í„°ì™€ì˜ ë§¤ì¹­
  - íˆ¬ëª…í•œ ì„±ê³¼ ì¸¡ì • ë° ROI ë¶„ì„
  - ê°„í¸í•œ ìº í˜ì¸ ìƒì„± ë° ê´€ë¦¬
  - íš¨ê³¼ì ì¸ ë¸Œëœë“œ ì¸ì§€ë„ í–¥ìƒ
- **í•µì‹¬ ê°€ì¹˜ ì œì•ˆ**: AI ê¸°ë°˜ í¬ë¦¬ì—ì´í„° ë§¤ì¹­ì„ í†µí•œ ë§ˆì¼€íŒ… íš¨ìœ¨ì„± ê·¹ëŒ€í™”

**ë§ˆì¼€íŒ…í¬ë¦¬ì—ì´í„° (Marketing Creator)**

- **ì •ì˜**: ìì‹ ì˜ íŒ”ë¡œì›Œ ì˜í–¥ë ¥(ë¸”ë¡œê·¸, SNS, YouTube, TikTok ë“±)ì„ ì „ë¬¸ì ì¸ ë§ˆì¼€íŒ… ë„êµ¬ë¡œ í™œìš©í•˜ì—¬ ìˆ˜ìµì„ ì°½ì¶œí•˜ëŠ” ì¸í”Œë£¨ì–¸ì„œ ë° ì½˜í…ì¸  ì œì‘ì
- **í•µì‹¬ íŠ¹ì§•**:
  - íŒ”ë¡œì›Œì™€ì˜ ì‹ ë¢° ê´€ê³„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ë§ˆì¼€íŒ… ì˜í–¥ë ¥ ë³´ìœ 
  - ì½˜í…ì¸  ì œì‘ ë° ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì „ë¬¸ì„±
  - ë¸Œëœë“œ ë©”ì‹œì§€ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ì „ë‹¬í•˜ëŠ” ëŠ¥ë ¥
  - ë‹¤ì–‘í•œ í”Œë«í¼ì—ì„œì˜ ì½˜í…ì¸  ìš´ì˜ ê²½í—˜
- **ì£¼ìš” ë‹ˆì¦ˆ**:
  - ì•ˆì •ì ì´ê³  ì§€ì†ê°€ëŠ¥í•œ ìˆ˜ìµ ì°½ì¶œ
  - 3ë‹¨ê³„ ì¶”ì²œ ì‹œìŠ¤í…œì„ í†µí•œ íŒ¨ì‹œë¸Œ ì¸ì»´
  - ììœ ë¡œìš´ ì½˜í…ì¸  ì œì‘ í™˜ê²½
  - ê°œì¸ ë¸Œëœë”© ë° í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì¶• ë„êµ¬
- **í•µì‹¬ ê°€ì¹˜ ì œì•ˆ**: íŒ”ë¡œì›Œ ì˜í–¥ë ¥ì˜ ìˆ˜ìµí™” ë° ì „ë¬¸ ë§ˆì¼€í„°ë¡œì„œì˜ ì„±ì¥ ì§€ì›

**ê´€ë¦¬ì**

- **ì •ì˜**: í”Œë«í¼ ìš´ì˜, ì‚¬ìš©ì ê´€ë¦¬, AI ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ ëª¨ë‹ˆí„°ë§, ì–´ë·°ì§• íƒì§€ ë° ê³ ê° ì§€ì› ë‹´ë‹¹ì
- **ì£¼ìš” ì—­í• **:
  - í”Œë«í¼ í’ˆì§ˆ ê´€ë¦¬ ë° ì‚¬ìš©ì ê²½í—˜ ìµœì í™”
  - ìº í˜ì¸ ìŠ¹ì¸ ë° ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜ ëª¨ë‹ˆí„°ë§
  - ì»¤ë®¤ë‹ˆí‹° ê´€ë¦¬ ë° ë¶„ìŸ í•´ê²°

### 1.5. ê¸°ìˆ  ìŠ¤íƒ (Next.js 15 + Supabase + Clerk)

ë³¸ í”„ë¡œì íŠ¸ëŠ” ìµœì‹  Next.js 15 App Routerë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, Supabaseë¥¼ ë°±ì—”ë“œë¡œ, Clerkë¥¼ ì¸ì¦ ì‹œìŠ¤í…œìœ¼ë¡œ í™œìš©í•˜ì—¬ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(SSR), ì‹¤ì‹œê°„ ë°ì´í„°ë² ì´ìŠ¤, ê°•ë ¥í•œ ì¸ì¦ì´ í†µí•©ëœ ê³ ì„±ëŠ¥ í’€ìŠ¤íƒ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•©ë‹ˆë‹¤.

#### í”„ë¡ íŠ¸ì—”ë“œ

- **í”„ë ˆì„ì›Œí¬**: Next.js 15.1.3 (App Router, RSC ì§€ì›)
- **ì–¸ì–´**: TypeScript 5.8.3
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS v4.2.0
- **UI ë¼ì´ë¸ŒëŸ¬ë¦¬**: Shadcn/ui (Radix UI ê¸°ë°˜)
- **ì•„ì´ì½˜**: Lucide React v0.522.0
- **ìœ íš¨ì„± ê²€ì¦**: Zod v3.23.8
- **ìƒíƒœ ê´€ë¦¬**: Zustand v5.0.2
- **í¼ ì²˜ë¦¬**: React Hook Form v7.53.0

#### ì¸ì¦ & ì‚¬ìš©ì ê´€ë¦¬

- **ì¸ì¦ ì„œë¹„ìŠ¤**: Clerk v5.0+ (ê´€ë¦¬í˜• ì¸ì¦ ì„œë¹„ìŠ¤)
- **ì†Œì…œ ë¡œê·¸ì¸**: ì¹´ì¹´ì˜¤ OAuth (Enhanced MVPì—ì„œ êµ¬í˜„ ì˜ˆì •)
- **ì‚¬ìš©ì ë©”íƒ€ë°ì´í„°**: PostgreSQL profiles í…Œì´ë¸”
- **ê¶Œí•œ ê´€ë¦¬**: Row Level Security (RLS) ì •ì±…
- **ì„¸ì…˜ ê´€ë¦¬**: JWT + Refresh Token

#### ë°±ì—”ë“œ & ì¸í”„ë¼

- **BaaS**: Supabase v2.50.0
- **ë°ì´í„°ë² ì´ìŠ¤**: PostgreSQL (Supabase ë‚´ì¥)
- **ìŠ¤í† ë¦¬ì§€**: Supabase Storage (ì´ë¯¸ì§€/íŒŒì¼ ì—…ë¡œë“œ)
- **ì‹¤ì‹œê°„**: Supabase Realtime (WebSocket)
- **Edge Functions**: Deno ê¸°ë°˜ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜

#### ë°°í¬ & ëª¨ë‹ˆí„°ë§

- **ë°°í¬ í”Œë«í¼**: Vercel (Next.js ìµœì í™”)
- **ë²„ì „ ê´€ë¦¬**: Git (GitHub)
- **í™˜ê²½**: ì„œë²„ë¦¬ìŠ¤ í™˜ê²½
- **CDN**: Vercel Edge Network
- **ëª¨ë‹ˆí„°ë§**: Vercel Analytics + Supabase Metrics

#### ì™¸ë¶€ API

- **AI ì—”ì§„**: Google Gemini API 1.5 Pro
- **ê²°ì œ**: í† ìŠ¤í˜ì´ë¨¼ì¸  API v2
- **ë³¸ì¸ì¸ì¦**: í† ìŠ¤ 1ì› ì¸ì¦ API
- **ì´ë©”ì¼ ë°œì†¡**: Resend API v2.0
- **ì•Œë¦¼**: Web Push API + Email ì•Œë¦¼ (Resend) + Supabase Edge Functions

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1. ë„ë©”ì¸ êµ¬ì¡°

ì„œë¹„ìŠ¤ì˜ ì—­í•  ë¶„ë¦¬ë¥¼ ëª…í™•íˆ í•˜ê³  í™•ì¥ì„±ì„ í™•ë³´í•˜ê¸° ìœ„í•´ ì„œë¸Œë„ë©”ì¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ë¥¼ ì±„íƒí•©ë‹ˆë‹¤.

#### 2.1.1. ë©”ì¸ ì„œë¹„ìŠ¤ - ì´ì¤‘ íƒ€ê²Ÿ ê³µê°œí˜ì´ì§€ ì‹œìŠ¤í…œ (domain)

**ëª©ì **: ë¹„ì¦ˆë‹ˆìŠ¤ì™€ í¬ë¦¬ì—ì´í„° ê°ê°ì„ íƒ€ê²Ÿìœ¼ë¡œ í•˜ëŠ” ì°¨ë³„í™”ëœ ê³µê°œí˜ì´ì§€ ì œê³µ ë° í†µí•© ì¸ì¦ ì‹œìŠ¤í…œ

#### 2.1.1.1. ë¹„ì¦ˆë‹ˆìŠ¤ íƒ€ê²Ÿ ê³µê°œí˜ì´ì§€ (ê¸°ë³¸ ë„ë©”ì¸)

**URL êµ¬ì¡°**: `domain` (ê¸°ë³¸ ê²½ë¡œ)
**íƒ€ê²Ÿ ì‚¬ìš©ì**: ê´‘ê³ ì£¼, ë§ˆì¼€íŒ… ë‹´ë‹¹ì, ì¤‘ì†Œê¸°ì—… ëŒ€í‘œ

**ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´**:

- **í™ˆ** (`/`) - ë¹„ì¦ˆë‹ˆìŠ¤ íƒ€ê²Ÿ ë©”ì¸ í˜ì´ì§€
- **í¬ë¦¬ì—ì´í„°** (`/creators`) - í¬ë¦¬ì—ì´í„° ì˜ì—­ìœ¼ë¡œ í¬ë¡œìŠ¤ ë§í¬
- **ì„œë¹„ìŠ¤** (`/service`) - ë¹„ì¦ˆë‹ˆìŠ¤ ëŒ€ìƒ ì„œë¹„ìŠ¤ ì†Œê°œ
- **ìš”ê¸ˆì œ** (`/pricing`) - ë¹„ì¦ˆë‹ˆìŠ¤ ìš”ê¸ˆì œ ë° í”Œëœ
- **ë¬¸ì˜í•˜ê¸°** (`/contact`) - ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì˜ ë° ìƒë‹´
- **ë¡œê·¸ì¸** (`/sign-in`) - í†µí•© ë¡œê·¸ì¸ í˜ì´ì§€
- **ë¬´ë£Œë¡œ ì‹œì‘í•˜ê¸°** (`/sign-up/business`) - ë¹„ì¦ˆë‹ˆìŠ¤ íšŒì›ê°€ì…

**í•µì‹¬ ë©”ì‹œì§€**:

- "AI ë§¤ì¹­ìœ¼ë¡œ ì™„ë²½í•œ í¬ë¦¬ì—ì´í„° ì°¾ê¸°"
- ê²€ì¦ëœ í¬ë¦¬ì—ì´í„° ë„¤íŠ¸ì›Œí¬
- íˆ¬ëª…í•œ ì„±ê³¼ ì¸¡ì • ë° ROI ë¶„ì„
- ê°„í¸í•œ ìº í˜ì¸ ìƒì„± ë° ê´€ë¦¬

**í…Œë§ˆ**: ë¹„ì¦ˆë‹ˆìŠ¤ í…Œë§ˆ (ë¸”ë£¨-ê·¸ë¦° ê³„ì—´, ì „ë¬¸ì , ì‹ ë¢°ê°)

#### 2.1.1.2. í¬ë¦¬ì—ì´í„° íƒ€ê²Ÿ ê³µê°œí˜ì´ì§€ (/creators)

**URL êµ¬ì¡°**: `domain/creators/*`
**íƒ€ê²Ÿ ì‚¬ìš©ì**: ì¸í”Œë£¨ì–¸ì„œ, ì½˜í…ì¸  í¬ë¦¬ì—ì´í„°, ë§ˆì¼€íŒ…í¬ë¦¬ì—ì´í„°

**ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´**:

- **í™ˆ** (`/creators`) - í¬ë¦¬ì—ì´í„° íƒ€ê²Ÿ ë©”ì¸ í˜ì´ì§€
- **ë¹„ì¦ˆë‹ˆìŠ¤** (`/`) - ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ì—­ìœ¼ë¡œ í¬ë¡œìŠ¤ ë§í¬
- **ì„œë¹„ìŠ¤** (`/creators/service`) - í¬ë¦¬ì—ì´í„° ëŒ€ìƒ ì„œë¹„ìŠ¤ ì†Œê°œ
- **ìˆ˜ìµ ê³„ì‚°ê¸°** (`/creators/calculator`) - í¬ë¦¬ì—ì´í„° ìˆ˜ìµ ì‹œë®¬ë ˆì´í„°
- **ë¡œê·¸ì¸** (`/sign-in`) - í†µí•© ë¡œê·¸ì¸ í˜ì´ì§€
- **ë¬´ë£Œë¡œ ì‹œì‘í•˜ê¸°** (`/sign-up/creator`) - í¬ë¦¬ì—ì´í„° íšŒì›ê°€ì…

**í•µì‹¬ ë©”ì‹œì§€**:

- "íŒ”ë¡œì›Œ ì˜í–¥ë ¥ì„ ìˆ˜ìµìœ¼ë¡œ ì „í™˜í•˜ì„¸ìš”"
- 3ë‹¨ê³„ ì¶”ì²œ ì‹œìŠ¤í…œ (10% + 5% + 2%)
- ììœ ë¡œìš´ í˜ì´ì§€ ë¹Œë”
- ì•ˆì •ì ì¸ ìˆ˜ìµ êµ¬ì¡°

**í…Œë§ˆ**: í¬ë¦¬ì—ì´í„° í…Œë§ˆ (ë¯¼íŠ¸ ê·¸ë¦°-í¼í”Œ ê³„ì—´, ì°½ì˜ì , ê°œì„±ì )

#### 2.1.1.3. ê³µí†µ ê¸°ëŠ¥ ë° ì‹œìŠ¤í…œ

**ê³µìœ  í˜ì´ì§€** (domain/[slug]):

- í¬ë¦¬ì—ì´í„°ê°€ ìƒì„±í•œ ê°œì¸ ëœë”© í˜ì´ì§€
- í…Œë§ˆ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì§€ì›
- ë°©ë¬¸ì ì¶”ì  ë° ì „í™˜ìœ¨ ë¶„ì„
- ì†Œì…œ ë¯¸ë””ì–´ ì—°ë™

**í†µí•© ì¸ì¦ ì‹œìŠ¤í…œ**:

- Clerk ê¸°ë°˜ ë‹¨ì¼ ë¡œê·¸ì¸ ì‹œìŠ¤í…œ
- ì—­í•  ê¸°ë°˜ ëŒ€ì‹œë³´ë“œ ë¦¬ë‹¤ì´ë ‰ì…˜
- ì¹´ì¹´ì˜¤ OAuth ì†Œì…œ ë¡œê·¸ì¸
- íƒ€ê²Ÿë³„ íšŒì›ê°€ì… í”Œë¡œìš° ë¶„ë¦¬

**í¬ë¡œìŠ¤ ë„¤ë¹„ê²Œì´ì…˜ ì‹œìŠ¤í…œ**:

- ë¶€ë“œëŸ¬ìš´ í…Œë§ˆ ì „í™˜ íš¨ê³¼
- ì»¨í…ìŠ¤íŠ¸ ìœ ì§€ ë° ì‚¬ìš©ì ì„ íƒ ê¸°ì–µ
- ì ì ˆí•œ ëœë”© í˜ì´ì§€ë¡œ ì•ˆë‚´
- URL íŒŒë¼ë¯¸í„°ë¡œ ì´ì „ í˜ì´ì§€ ì •ë³´ ìœ ì§€

**ê¸°ìˆ ì  êµ¬í˜„**:

- Next.js 15 App Router ê¸°ë°˜ íŒŒì¼ ë¼ìš°íŒ…
- ë™ì  í…Œë§ˆ ì‹œìŠ¤í…œ (CSS ë³€ìˆ˜ + React Context)
- Supabase Databaseë¡œ ì½˜í…ì¸  ê´€ë¦¬
- Clerk ë¯¸ë“¤ì›¨ì–´ë¥¼ í†µí•œ í†µí•© ì¸ì¦
- ë°˜ì‘í˜• ë””ìì¸ (ëª¨ë°”ì¼ ìš°ì„ )

#### 2.1.2. í¬ë¦¬ì—ì´í„° ëŒ€ì‹œë³´ë“œ (crt.domain)

**ëª©ì **: ë§ˆì¼€í„°/í¬ë¦¬ì—ì´í„°ë¥¼ ìœ„í•œ ìˆ˜ìµ ì°½ì¶œ ë° ì½˜í…ì¸  ê´€ë¦¬ í”Œë«í¼

**ì£¼ìš” ê¸°ëŠ¥**:

- **ëŒ€ì‹œë³´ë“œ í™ˆ**:
  - ì‹¤ì‹œê°„ ìˆ˜ìµ í˜„í™© ë° ê·¸ë˜í”„
  - ì§„í–‰ ì¤‘ì¸ ìº í˜ì¸ ìš”ì•½
  - ìµœê·¼ í™œë™ íƒ€ì„ë¼ì¸
  - AI ì¶”ì²œ ìº í˜ì¸ (Gemini API í™œìš©)
- **ìº í˜ì¸ ê´€ë¦¬**:
  - ì°¸ì—¬ ê°€ëŠ¥í•œ ìº í˜ì¸ íƒìƒ‰ (AI ë§¤ì¹­ ì ìˆ˜ í‘œì‹œ)
  - ìº í˜ì¸ ì°¸ì—¬ ì‹ ì²­ ë° ìŠ¹ì¸ ëŒ€ê¸° ëª©ë¡
  - ë¯¸ì…˜ ìˆ˜í–‰ ë° ì¦ë¹™ ìë£Œ ì œì¶œ
  - ìº í˜ì¸ë³„ ì„±ê³¼ ë¶„ì„ (í´ë¦­ë¥ , ì „í™˜ìœ¨)
- **ê³µìœ  í˜ì´ì§€ ë¹Œë”**:
  - ë“œë˜ê·¸ ì•¤ ë“œë¡­ ë¸”ë¡ ì—ë””í„°
  - ì‹¤ì‹œê°„ í”„ë¦¬ë·° ë° ë°˜ì‘í˜• í¸ì§‘
  - í…Œë§ˆ ë° ìŠ¤íƒ€ì¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•
  - ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì—°ê²° ì§€ì›
- **ìˆ˜ìµ ê´€ë¦¬**:
  - ìƒì„¸ ìˆ˜ìµ ë‚´ì—­ (ìº í˜ì¸ë³„, ì¶”ì²œë³„)
  - ì¶œê¸ˆ ì‹ ì²­ ë° ì´ë ¥ ê´€ë¦¬
  - ì„¸ê¸ˆê³„ì‚°ì„œ ìë™ ë°œí–‰
  - **3ë‹¨ê³„ ì¶”ì²œ ìˆ˜ìµ ì¶”ì **
    - **1ë‹¨ê³„ ì¶”ì²œ: 10%**
    - **2ë‹¨ê³„ ì¶”ì²œ: 5%**
    - **3ë‹¨ê³„ ì¶”ì²œ: 2%**
- **ë¶„ì„ ë„êµ¬**:
  - íŠ¸ë˜í”½ ë¶„ì„ (ë°©ë¬¸ì, í˜ì´ì§€ë·°, ì²´ë¥˜ì‹œê°„)
  - ì „í™˜ í¼ë„ ë¶„ì„

**ê¸°ìˆ ì  êµ¬í˜„**:

- Zustandë¡œ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ê´€ë¦¬
- Supabase Realtimeìœ¼ë¡œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- WebSocketì„ í†µí•œ ì‹¤ì‹œê°„ ì•Œë¦¼
- Chart.jsë¡œ ë°ì´í„° ì‹œê°í™”

#### 2.1.3. ë¹„ì¦ˆë‹ˆìŠ¤ ëŒ€ì‹œë³´ë“œ (biz.domain)

**ëª©ì **: ê´‘ê³ ì£¼/ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ ìœ„í•œ ìº í˜ì¸ ìƒì„± ë° ì„±ê³¼ ê´€ë¦¬ í”Œë«í¼

**ì£¼ìš” ê¸°ëŠ¥**:

- **ìº í˜ì¸ ìƒì„± ë§ˆë²•ì‚¬**:
  - ë‹¨ê³„ë³„ ìº í˜ì¸ ì„¤ì • ê°€ì´ë“œ
  - AI ê¸°ë°˜ íƒ€ê²Ÿ ì˜¤ë””ì–¸ìŠ¤ ì¶”ì²œ
  - ì˜ˆì‚° ë° ê¸°ê°„ ìµœì í™” ì œì•ˆ
  - ìº í˜ì¸ ëª©í‘œ ì„¤ì • (ì¸ì§€ë„, ì „í™˜, ì°¸ì—¬)
- **í¬ë¦¬ì—ì´í„° ê´€ë¦¬**:
  - AI ë§¤ì¹­ í¬ë¦¬ì—ì´í„° ì¶”ì²œ
  - í¬ë¦¬ì—ì´í„° í¬íŠ¸í´ë¦¬ì˜¤ ì—´ëŒ
  - ì§ì ‘ ì œì•ˆ ë° í˜‘ìƒ ê¸°ëŠ¥
  - í¬ë¦¬ì—ì´í„° ì„±ê³¼ í‰ê°€ ì‹œìŠ¤í…œ
- **ì„±ê³¼ ë¶„ì„**:
  - ì‹¤ì‹œê°„ ìº í˜ì¸ ëŒ€ì‹œë³´ë“œ
  - ROI ë° ROAS ê³„ì‚°
  - í¬ë¦¬ì—ì´í„°ë³„ ì„±ê³¼ ë¹„êµ
  - ì»¤ìŠ¤í…€ ë¦¬í¬íŠ¸ ìƒì„±
- **ê²°ì œ ë° ì •ì‚°**:
  - ìº í˜ì¸ ì˜ˆì‚° ì¶©ì „ (í† ìŠ¤í˜ì´ë¨¼ì¸ )
  - ìë™ ì •ì‚° ì‹œìŠ¤í…œ
- **ì»¤ë®¤ë‹ˆì¼€ì´ì…˜**:
  - í¬ë¦¬ì—ì´í„°ì™€ ì‹¤ì‹œê°„ ì±„íŒ…
  - ìº í˜ì¸ í”¼ë“œë°± ìˆ˜ì§‘
  - ê³µì§€ì‚¬í•­ ë° ì—…ë°ì´íŠ¸ ì•Œë¦¼

**ê¸°ìˆ ì  êµ¬í˜„**:

- Next.js Server Actionsë¡œ í¼ ì²˜ë¦¬
- Gemini APIë¡œ AI ì¶”ì²œ ì‹œìŠ¤í…œ
- í† ìŠ¤í˜ì´ë¨¼ì¸  SDK í†µí•©
- Supabase Database Triggersë¡œ ì‹¤ì‹œê°„ ë™ê¸°í™”

#### 2.1.4. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (adm.domain)

**ëª©ì **: í”Œë«í¼ ìš´ì˜, ëª¨ë‹ˆí„°ë§, ì‚¬ìš©ì ì§€ì›ì„ ìœ„í•œ í†µí•© ê´€ë¦¬ ì‹œìŠ¤í…œ

**ì£¼ìš” ê¸°ëŠ¥**:

- **ìš´ì˜ ëŒ€ì‹œë³´ë“œ**:
  - í”Œë«í¼ í•µì‹¬ ì§€í‘œ ëª¨ë‹ˆí„°ë§ (DAU, MAU, GMV)
  - ì‹¤ì‹œê°„ íŠ¸ëœì­ì…˜ ë¡œê·¸
  - ì‹œìŠ¤í…œ ìƒíƒœ ë° ì„±ëŠ¥ ì§€í‘œ
  - ì•Œë¦¼ ë° ê²½ê³  ì‹œìŠ¤í…œ
- **ì‚¬ìš©ì ê´€ë¦¬**:
  - ì‚¬ìš©ì ê²€ìƒ‰ ë° ìƒì„¸ ì •ë³´
  - ì—­í•  ë° ê¶Œí•œ ê´€ë¦¬ (Clerk Organizations)
  - ê³„ì • ì •ì§€ ë° ì œì¬ ê´€ë¦¬
  - ë³¸ì¸ì¸ì¦ ìƒíƒœ í™•ì¸
- **ìº í˜ì¸ ìŠ¹ì¸**:
  - ìº í˜ì¸ ê²€í†  ëŒ€ê¸°ì—´
  - AI ê¸°ë°˜ ìœ„í—˜ë„ í‰ê°€
  - ìŠ¹ì¸/ê±°ì ˆ ë° í”¼ë“œë°±
  - ìº í˜ì¸ ê°€ì´ë“œë¼ì¸ ìœ„ë°˜ ì²´í¬
- **ì–´ë·°ì§• ê´€ë¦¬**:
  - ì‹¤ì‹œê°„ ì´ìƒ í–‰ë™ íƒì§€
  - ë‹¤ì¤‘ ê³„ì • íƒì§€ ì‹œìŠ¤í…œ
  - IP ë° ë””ë°”ì´ìŠ¤ ì¶”ì 
  - ì œì¬ ì´ë ¥ ê´€ë¦¬
- **ê³ ê° ì§€ì›**:
  - í†µí•© ê³ ê° ë¬¸ì˜ ê´€ë¦¬
  - í…œí”Œë¦¿ ê¸°ë°˜ ì‘ë‹µ ì‹œìŠ¤í…œ
  - ì—ìŠ¤ì»¬ë ˆì´ì…˜ í”„ë¡œì„¸ìŠ¤
  - FAQ ë° ë„ì›€ë§ ê´€ë¦¬

**ê¸°ìˆ ì  êµ¬í˜„**:

- Clerk Organizations & Roles ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬
- Supabase Dashboard í†µí•©
- ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
- Supabase Edge Functionsë¡œ ë¡œê·¸ ì§‘ê³„

#### 2.1.5. ë„ë©”ì¸ ê°„ ë°ì´í„° íë¦„

**ì¸ì¦ í”Œë¡œìš°**:

```
1. domainì—ì„œ Clerk Auth ë¡œê·¸ì¸
2. JWT í† í° ìë™ ê´€ë¦¬ (Clerk SDK)
3. ì—­í• ì— ë”°ë¼ ì„œë¸Œë„ë©”ì¸ ë¦¬ë‹¤ì´ë ‰íŠ¸
4. ì„œë¸Œë„ë©”ì¸ì—ì„œ í† í° ê²€ì¦ ë° ì„¸ì…˜ ìœ ì§€
```

**ë°ì´í„° ë™ê¸°í™”**:

- **Supabase Database**: ëª¨ë“  ë„ë©”ì¸ì—ì„œ ê³µí†µ ë°ì´í„° ì ‘ê·¼
- **Supabase Realtime**: ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”
- **Edge Functions**: ë„ë©”ì¸ ê°„ API í˜¸ì¶œ ì²˜ë¦¬
- **ìºì‹œ ì „ëµ**: Next.jsì˜ fetch ìºì‹± + Vercel KV

**ë³´ì•ˆ ê³ ë ¤ì‚¬í•­**:

- CORS ì •ì±…ìœ¼ë¡œ ë„ë©”ì¸ ê°„ ì ‘ê·¼ ì œì–´
- Supabase RLSë¡œ ë°ì´í„° ì ‘ê·¼ ê¶Œí•œ ê´€ë¦¬
- Clerkì˜ ì„¸ì…˜ í† í° ê²€ì¦
- í™˜ê²½ ë³€ìˆ˜ë¡œ API í‚¤ ê´€ë¦¬
- Vercelì˜ Rate Limiting ì ìš©

#### 2.1.6. ê¸°ìˆ ì  êµ¬í˜„ ë°©ì•ˆ

**ë©€í‹° ë„ë©”ì¸ ë¼ìš°íŒ…**:

```typescript
// lib/domain.ts
export function getDomainType(hostname: string) {
  if (hostname.includes('crt.')) return 'creator';
  if (hostname.includes('biz.')) return 'business';
  if (hostname.includes('adm.')) return 'admin';
  return 'main';
}

// app/layout.tsxì—ì„œ ë„ë©”ì¸ë³„ ë ˆì´ì•„ì›ƒ ì ìš©
export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  const domainType = getDomainType(headers().get('host') || '');

  return (
    <html lang="ko">
      <body>
        <ClerkProvider>
          {domainType === 'creator' && <CreatorLayout>{children}</CreatorLayout>}
          {domainType === 'business' && <BusinessLayout>{children}</BusinessLayout>}
          {domainType === 'admin' && <AdminLayout>{children}</AdminLayout>}
          {domainType === 'main' && <MainLayout>{children}</MainLayout>}
        </ClerkProvider>
      </body>
    </html>
  );
}
```

**í™˜ê²½ ì„¤ì •**:

```typescript
// .env.local
# Clerk
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...

# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ë„ë©”ì¸ ì„¤ì •
NEXT_PUBLIC_MAIN_DOMAIN=domain
NEXT_PUBLIC_CREATOR_DOMAIN=crt.domain
NEXT_PUBLIC_BUSINESS_DOMAIN=biz.domain
NEXT_PUBLIC_ADMIN_DOMAIN=adm.domain
```

**ë°°í¬ ì „ëµ**:

- Vercelì˜ ë„ë©”ì¸ ë³„ì¹­ ê¸°ëŠ¥ í™œìš©
- ê° ì„œë¸Œë„ë©”ì¸ì„ ë™ì¼í•œ Next.js ì•±ìœ¼ë¡œ ë¼ìš°íŒ…
- Clerkì˜ ë¯¸ë“¤ì›¨ì–´ë¥¼ í†µí•œ ë„ë©”ì¸ë³„ ì¸ì¦ ì²˜ë¦¬
- í™˜ê²½ ë³€ìˆ˜ë¡œ ë„ë©”ì¸ë³„ ì„¤ì • ê´€ë¦¬

### 2.2. ê¸°ìˆ  ì•„í‚¤í…ì²˜

#### í”„ë ˆì„ì›Œí¬

Next.js 15 App Routerë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ ì»´í¬ë„ŒíŠ¸(RSC)ì™€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì ì ˆíˆ ë¶„ë¦¬í•œ í˜„ëŒ€ì ì¸ í’€ìŠ¤íƒ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•©ë‹ˆë‹¤. Clerkë¥¼ í†µí•œ ê°•ë ¥í•œ ì¸ì¦ ì‹œìŠ¤í…œê³¼ Supabaseì™€ì˜ í†µí•©ìœ¼ë¡œ ì™„ì „í•œ ë°±ì—”ë“œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

#### í”„ë¡ íŠ¸ì—”ë“œ

- **UI í”„ë ˆì„ì›Œí¬**: Next.js 15.1.3 (App Router, RSC)
- **ì–¸ì–´**: TypeScript 5.8.3 (strict mode)
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS v4.2.0
- **UI ì»´í¬ë„ŒíŠ¸**: Shadcn/ui (Radix UI ê¸°ë°˜)
- **ìƒíƒœ ê´€ë¦¬**: Zustand v5.0.2 (í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ)
- **í¼ ì²˜ë¦¬**: React Hook Form + Zod ìŠ¤í‚¤ë§ˆ ê²€ì¦
- **ì•„ì´ì½˜**: Lucide React
- **ì°¨íŠ¸**: Chart.js v4 + React Chartjs 2

#### ì¸ì¦ ì‹œìŠ¤í…œ (Clerk)

- **ì¸ì¦ ì„œë¹„ìŠ¤**: Clerk v5.15.0
- **ì„¸ì…˜ ê´€ë¦¬**: JWT ê¸°ë°˜ ìë™ ì„¸ì…˜ ê´€ë¦¬
- **ì†Œì…œ ë¡œê·¸ì¸**: ì¹´ì¹´ì˜¤ OAuth
- **ì‚¬ìš©ì ë©”íƒ€ë°ì´í„°**: ì—­í•  ë° í”„ë¡œí•„ ì •ë³´ ì €ì¥
- **ê¶Œí•œ ê´€ë¦¬**: Clerk Organizations & Roles

#### ë°±ì—”ë“œ ì„œë¹„ìŠ¤ (Supabase)

- **ë°ì´í„°ë² ì´ìŠ¤**: PostgreSQL (Supabase ê´€ë¦¬í˜•)
- **ì‹¤ì‹œê°„**: Supabase Realtime (WebSocket)
- **ìŠ¤í† ë¦¬ì§€**: Supabase Storage (ì´ë¯¸ì§€/íŒŒì¼)
- **Edge Functions**: Deno ëŸ°íƒ€ì„ (ì„œë²„ë¦¬ìŠ¤)
- **API**: ìë™ ìƒì„± REST API + GraphQL

#### ë°ì´í„° íë¦„

- **ì„œë²„ ì»´í¬ë„ŒíŠ¸**: Supabase ì„œë²„ í´ë¼ì´ì–¸íŠ¸ë¡œ ì§ì ‘ ë°ì´í„° í˜ì¹­
- **í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸**: Supabase í´ë¼ì´ì–¸íŠ¸ SDK + Clerk í† í° ì‚¬ìš©
- **ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸**: Supabase Realtime êµ¬ë…
- **ìºì‹±**: Next.js fetch ìºì‹± + unstable_cache

#### ë³´ì•ˆ

- **ì¸ì¦**: Clerk Auth (Magic Link, OAuth)
- **ê¶Œí•œ**: Row Level Security (RLS) + Clerk ì„¸ì…˜ ê²€ì¦
- **API ë³´ì•ˆ**: Clerk í† í° + Supabase API í‚¤ ê´€ë¦¬
- **CORS**: Next.js ë¯¸ë“¤ì›¨ì–´ì—ì„œ ì²˜ë¦¬

#### ì™¸ë¶€ ì„œë¹„ìŠ¤

- **AI API**: Google Gemini API 1.5 Pro
- **ê²°ì œ**: í† ìŠ¤í˜ì´ë¨¼ì¸  API v2
- **ë³¸ì¸ì¸ì¦**: í† ìŠ¤ 1ì› ì¸ì¦ API
- **ì´ë¯¸ì§€ CDN**: Supabase Storage CDN
- **í‘¸ì‹œ ì•Œë¦¼**: Web Push API
- **ì´ë©”ì¼ ë°œì†¡**: Resend API v2.0

### 2.3. ì´ë©”ì¼ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (Resend í†µí•©)

Resend ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ì•ˆì •ì ì´ê³  ì „ë¬¸ì ì¸ ì´ë©”ì¼ ë°œì†¡ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•©ë‹ˆë‹¤.

#### 2.3.1. ì´ë©”ì¼ ì„œë¹„ìŠ¤ í†µí•© ì„¤ê³„

**Resend API íŠ¹ì§•**:

- **í˜„ëŒ€ì  ì´ë©”ì¼ API**: RESTful APIì™€ SDK ì œê³µ
- **ë†’ì€ ì „ì†¡ë¥ **: 99%+ ì „ì†¡ ì„±ê³µë¥  ë³´ì¥
- **ì‹¤ì‹œê°„ ì›¹í›…**: ì´ë©”ì¼ ìƒíƒœ ì¶”ì  ë° í”¼ë“œë°±
- **í…œí”Œë¦¿ ì‹œìŠ¤í…œ**: React ê¸°ë°˜ ì´ë©”ì¼ í…œí”Œë¦¿
- **ë¶„ì„ ëŒ€ì‹œë³´ë“œ**: ì „ì†¡ í†µê³„ ë° ì„±ê³¼ ì¶”ì 

**ì´ë©”ì¼ ë°œì†¡ ì•„í‚¤í…ì²˜**:

```typescript
// Supabase Edge Functionì—ì„œ Resend API í˜¸ì¶œ
export const sendEmail = async (to: string, template: EmailTemplate, data: EmailData) => {
  const resend = new Resend(process.env.RESEND_API_KEY);

  const result = await resend.emails.send({
    from: process.env.RESEND_FROM_EMAIL,
    to,
    subject: template.subject,
    react: template.component(data),
  });

  return result;
};
```

#### 2.3.2. ì´ë©”ì¼ í…œí”Œë¦¿ ì‹œìŠ¤í…œ

**ì£¼ìš” ì´ë©”ì¼ í…œí”Œë¦¿**:

- **í™˜ì˜ ì´ë©”ì¼**: íšŒì›ê°€ì… ì™„ë£Œ ì‹œ ë°œì†¡
- **ìº í˜ì¸ ì•Œë¦¼**: ìƒˆë¡œìš´ ìº í˜ì¸ ë§¤ì¹­ ì‹œ ë°œì†¡
- **ìˆ˜ìµ ì •ì‚°**: ì›”ë³„ ìˆ˜ìµ ë¦¬í¬íŠ¸ ë°œì†¡
- **ë³´ì•ˆ ì•Œë¦¼**: ë¡œê·¸ì¸, ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ë“±
- **ë§ˆì¼€íŒ…**: ì´ë²¤íŠ¸, ê³µì§€ì‚¬í•­ ë“±

**React ê¸°ë°˜ í…œí”Œë¦¿ ì˜ˆì‹œ**:

```typescript
// components/emails/campaign-notification.tsx
export function CampaignNotificationEmail({
  userName,
  campaignTitle,
  reward
}: EmailProps) {
  return (
    <Html>
      <Head />
      <Body>
        <Container>
          <Heading>ìƒˆë¡œìš´ ìº í˜ì¸ì´ ë§¤ì¹­ë˜ì—ˆìŠµë‹ˆë‹¤!</Heading>
          <Text>ì•ˆë…•í•˜ì„¸ìš” {userName}ë‹˜,</Text>
          <Text>
            '{campaignTitle}' ìº í˜ì¸ì´ íšŒì›ë‹˜ê³¼ ë§¤ì¹­ë˜ì—ˆìŠµë‹ˆë‹¤.
            ì˜ˆìƒ ìˆ˜ìµ: {reward.toLocaleString()}ì›
          </Text>
          <Button href="https://crt.cashup.kr/campaigns">
            ìº í˜ì¸ í™•ì¸í•˜ê¸°
          </Button>
        </Container>
      </Body>
    </Html>
  )
}
```

#### 2.3.3. ì´ë©”ì¼ ë°œì†¡ ì‹œë‚˜ë¦¬ì˜¤

**ì‹¤ì‹œê°„ ì•Œë¦¼ + ì´ë©”ì¼ í†µí•©**:

1. **ì¦‰ì‹œ ì•Œë¦¼**: Supabase Realtimeìœ¼ë¡œ ë¸Œë¼ìš°ì € ì•Œë¦¼
2. **ì´ë©”ì¼ ë°±ì—…**: ì‚¬ìš©ìê°€ ì˜¤í”„ë¼ì¸ì¼ ê²½ìš° ì´ë©”ì¼ ë°œì†¡
3. **ê°œì¸í™”**: ì‚¬ìš©ì ì´ë©”ì¼ ì„¤ì •ì— ë”°ë¥¸ ì„ íƒì  ë°œì†¡
4. **ë°°ì¹˜ ì²˜ë¦¬**: ì¼ì¼/ì£¼ê°„ ìš”ì•½ ì´ë©”ì¼ ìŠ¤ì¼€ì¤„ë§

**ì´ë©”ì¼ ë°œì†¡ íŠ¸ë¦¬ê±°**:

- ìº í˜ì¸ ë§¤ì¹­ ì‹œ
- ìˆ˜ìµ ì •ì‚° ì™„ë£Œ ì‹œ
- ì¤‘ìš”í•œ ë³´ì•ˆ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ
- ê´€ë¦¬ì ìŠ¹ì¸/ê±°ì ˆ ì•Œë¦¼
- ë§ˆì¼€íŒ… ìº í˜ì¸

#### 2.3.4. í™˜ê²½ ì„¤ì • ë° ë³´ì•ˆ

**í™˜ê²½ ë³€ìˆ˜**:

```bash
# Resend Configuration
RESEND_API_KEY=re_xxxxxxxxx
RESEND_FROM_EMAIL=noreply@cashup.kr
RESEND_WEBHOOK_SECRET=whsec_xxxxxxxx

# Email Settings
EMAIL_SUPPORT=support@cashup.kr
EMAIL_NOREPLY=noreply@cashup.kr
```

**ë³´ì•ˆ ê³ ë ¤ì‚¬í•­**:

- **SPF/DKIM ì„¤ì •**: ë„ë©”ì¸ ì¸ì¦ ë° ìŠ¤íŒ¸ ë°©ì§€
- **ì›¹í›… ê²€ì¦**: Resend ì›¹í›… ì„œëª… ê²€ì¦
- **ê°œì¸ì •ë³´ ë³´í˜¸**: ì´ë©”ì¼ ì£¼ì†Œ ì•”í˜¸í™” ì €ì¥
- **êµ¬ë… ê´€ë¦¬**: ì´ë©”ì¼ ìˆ˜ì‹  ë™ì˜ ê´€ë¦¬

## 3. ìƒì„¸ ì„¤ê³„

### 3.1. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ (Supabase PostgreSQL + Clerk í†µí•©)

Supabase PostgreSQLì„ í™œìš©í•˜ì—¬ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ë¥¼ í•˜ë©°, Clerkì˜ ì‚¬ìš©ì ì‹œìŠ¤í…œê³¼ ì—°ë™í•˜ì—¬ ì™„ì „í•œ íƒ€ì… ì•ˆì „ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.

#### 3.1.1. Clerk ì—°ë™ ì‚¬ìš©ì ì‹œìŠ¤í…œ

**Clerk ì‚¬ìš©ì ë©”íƒ€ë°ì´í„° êµ¬ì¡°**

```typescript
// Clerkì—ì„œ ê´€ë¦¬í•˜ëŠ” ì‚¬ìš©ì ë©”íƒ€ë°ì´í„°
interface ClerkUserMetadata {
  role: 'business' | 'creator' | 'admin';
  creditBalance: number;
  isIdentityVerified: boolean;
  referrerL1Id?: string;
  referrerL2Id?: string;
  referrerL3Id?: string;
}
```

**í”„ë¡œí•„ í…Œì´ë¸” (Clerk ID ì—°ë™)**

```sql
CREATE TABLE profiles (
  id TEXT PRIMARY KEY, -- Clerk User ID
  email TEXT NOT NULL,
  name TEXT NOT NULL,
  role user_role NOT NULL DEFAULT 'creator',
  credit_balance DECIMAL(10,2) DEFAULT 0,
  ci TEXT, -- ë³¸ì¸ì¸ì¦ CI
  is_identity_verified BOOLEAN DEFAULT FALSE,
  avatar_url TEXT,
  bio TEXT,
  phone TEXT,
  referrer_l1_id TEXT, -- 1ë‹¨ê³„ ì¶”ì²œì¸ (10%)
  referrer_l2_id TEXT, -- 2ë‹¨ê³„ ì¶”ì²œì¸ (5%)
  referrer_l3_id TEXT, -- 3ë‹¨ê³„ ì¶”ì²œì¸ (2%)
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ì‚¬ìš©ì ì—­í•  ENUM
CREATE TYPE user_role AS ENUM ('business', 'creator', 'admin');

-- RLS ì •ì±… (Clerk í† í° ê¸°ë°˜)
ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own profile" ON profiles
  FOR SELECT USING (auth.jwt() ->> 'sub' = id);

CREATE POLICY "Users can update own profile" ON profiles
  FOR UPDATE USING (auth.jwt() ->> 'sub' = id);
```

**í¬ë¦¬ì—ì´í„° KPI í…Œì´ë¸”**

```sql
CREATE TABLE creator_kpis (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  creator_id TEXT REFERENCES profiles(id) ON DELETE CASCADE,
  total_earnings DECIMAL(10,2) DEFAULT 0,
  total_campaigns INTEGER DEFAULT 0,
  conversion_rate DECIMAL(5,4) DEFAULT 0,
  average_rating DECIMAL(3,2) DEFAULT 0,
  total_referrals_l1 INTEGER DEFAULT 0, -- 1ë‹¨ê³„ ì¶”ì²œ ìˆ˜
  total_referrals_l2 INTEGER DEFAULT 0, -- 2ë‹¨ê³„ ì¶”ì²œ ìˆ˜
  total_referrals_l3 INTEGER DEFAULT 0, -- 3ë‹¨ê³„ ì¶”ì²œ ìˆ˜
  referral_earnings_l1 DECIMAL(10,2) DEFAULT 0, -- 1ë‹¨ê³„ ì¶”ì²œ ìˆ˜ìµ (10%)
  referral_earnings_l2 DECIMAL(10,2) DEFAULT 0, -- 2ë‹¨ê³„ ì¶”ì²œ ìˆ˜ìµ (5%)
  referral_earnings_l3 DECIMAL(10,2) DEFAULT 0, -- 3ë‹¨ê³„ ì¶”ì²œ ìˆ˜ìµ (2%)
  last_calculated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

**ìº í˜ì¸ í…Œì´ë¸”**

```sql
CREATE TABLE campaigns (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  client_id TEXT REFERENCES profiles(id) NOT NULL,
  title TEXT NOT NULL,
  description TEXT NOT NULL,
  status campaign_status DEFAULT 'draft',
  reward DECIMAL(10,2) NOT NULL,
  budget DECIMAL(10,2) NOT NULL,
  start_date DATE NOT NULL,
  end_date DATE NOT NULL,
  target_audience JSONB,
  requirements JSONB,
  category TEXT,
  thumbnail_url TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ìº í˜ì¸ ìƒíƒœ ENUM
CREATE TYPE campaign_status AS ENUM (
  'draft', 'pending', 'active', 'paused', 'completed', 'cancelled'
);
```

**ê³µìœ  í˜ì´ì§€ í…Œì´ë¸” (URL êµ¬ì¡° ë³€ê²½ ë°˜ì˜)**

```sql
CREATE TABLE shared_pages (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  owner_id TEXT REFERENCES profiles(id) NOT NULL,
  slug TEXT UNIQUE NOT NULL, -- domain/[slug] í˜•íƒœë¡œ ì ‘ê·¼
  title TEXT NOT NULL,
  description TEXT,
  theme page_theme DEFAULT 'default',
  is_published BOOLEAN DEFAULT FALSE,
  view_count INTEGER DEFAULT 0,
  custom_css TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- í˜ì´ì§€ í…Œë§ˆ ENUM
CREATE TYPE page_theme AS ENUM ('default', 'dark', 'colorful', 'minimal');
```

#### 3.1.2. Clerk í†µí•© TypeScript íƒ€ì… ì •ì˜

```typescript
// lib/database.types.ts
export interface Database {
  public: {
    Tables: {
      profiles: {
        Row: {
          id: string; // Clerk User ID
          email: string;
          name: string;
          role: 'business' | 'creator' | 'admin';
          credit_balance: number;
          ci: string | null;
          is_identity_verified: boolean;
          avatar_url: string | null;
          bio: string | null;
          phone: string | null;
          referrer_l1_id: string | null; // 1ë‹¨ê³„ ì¶”ì²œì¸
          referrer_l2_id: string | null; // 2ë‹¨ê³„ ì¶”ì²œì¸
          referrer_l3_id: string | null; // 3ë‹¨ê³„ ì¶”ì²œì¸
          created_at: string;
          updated_at: string;
        };
        Insert: {
          id: string; // Clerk User ID í•„ìˆ˜
          email: string;
          name: string;
          role?: 'business' | 'creator' | 'admin';
          credit_balance?: number;
          ci?: string | null;
          is_identity_verified?: boolean;
          avatar_url?: string | null;
          bio?: string | null;
          phone?: string | null;
          referrer_l1_id?: string | null;
          referrer_l2_id?: string | null;
          referrer_l3_id?: string | null;
        };
        Update: {
          email?: string;
          name?: string;
          role?: 'business' | 'creator' | 'admin';
          credit_balance?: number;
          ci?: string | null;
          is_identity_verified?: boolean;
          avatar_url?: string | null;
          bio?: string | null;
          phone?: string | null;
          referrer_l1_id?: string | null;
          referrer_l2_id?: string | null;
          referrer_l3_id?: string | null;
          updated_at?: string;
        };
      };
      creator_kpis: {
        Row: {
          id: string;
          creator_id: string;
          total_earnings: number;
          total_campaigns: number;
          conversion_rate: number;
          average_rating: number;
          total_referrals_l1: number;
          total_referrals_l2: number;
          total_referrals_l3: number;
          referral_earnings_l1: number;
          referral_earnings_l2: number;
          referral_earnings_l3: number;
          last_calculated_at: string;
          created_at: string;
        };
      };
    };
  };
}

// ìœ í‹¸ë¦¬í‹° íƒ€ì…
export type Profile = Database['public']['Tables']['profiles']['Row'];
export type CreatorKpis = Database['public']['Tables']['creator_kpis']['Row'];

// ì¶”ì²œ ìˆ˜ìµ êµ¬ì¡° íƒ€ì…
export interface ReferralEarnings {
  level1: {
    percentage: 10;
    earnings: number;
    referrals: number;
  };
  level2: {
    percentage: 5;
    earnings: number;
    referrals: number;
  };
  level3: {
    percentage: 2;
    earnings: number;
    referrals: number;
  };
}
```

#### 3.1.3. Clerk + Supabase í†µí•© í´ë¼ì´ì–¸íŠ¸

```typescript
// lib/supabase/client.ts
import { createBrowserClient } from '@supabase/ssr';
import { useAuth } from '@clerk/nextjs';
import type { Database } from './database.types';

export const createClient = () => {
  return createBrowserClient<Database>(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,
  );
};

// Clerk í† í°ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” Supabase í´ë¼ì´ì–¸íŠ¸
export const useSupabaseWithAuth = () => {
  const { getToken } = useAuth();
  const supabase = createClient();

  const getAuthenticatedClient = async () => {
    const token = await getToken({ template: 'supabase' });
    if (token) {
      supabase.realtime.setAuth(token);
    }
    return supabase;
  };

  return { supabase, getAuthenticatedClient };
};

// lib/supabase/server.ts
import { createServerClient } from '@supabase/ssr';
import { auth } from '@clerk/nextjs/server';
import { cookies } from 'next/headers';
import type { Database } from './database.types';

export const createServerClient = async () => {
  const { getToken } = auth();
  const cookieStore = cookies();

  const supabase = createServerClient<Database>(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,
    {
      cookies: {
        getAll() {
          return cookieStore.getAll();
        },
        setAll(cookiesToSet) {
          try {
            cookiesToSet.forEach(({ name, value, options }) =>
              cookieStore.set(name, value, options),
            );
          } catch {
            // Server componentì—ì„œëŠ” cookie ì„¤ì • ë¶ˆê°€
          }
        },
      },
    },
  );

  // Clerk í† í°ìœ¼ë¡œ ì¸ì¦
  const token = await getToken({ template: 'supabase' });
  if (token) {
    supabase.realtime.setAuth(token);
  }

  return supabase;
};
```

### 3.2. ì–´ë·°ì§• ë°©ì§€ ë° ë¦¬ìŠ¤í¬ ê´€ë¦¬ ì‹œìŠ¤í…œ

í”Œë«í¼ì˜ ì‹ ë¢°ì„±ì„ ìœ„í•´ ë‹¤ì¸µì  ë°©ì–´ ì²´ê³„ë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤.

#### 3.2.1. 1ê³„ì¸µ: ê³„ì • ë° ì ‘ê·¼ ì œì–´ (ì‚¬ì „ ë°©ì–´)

**Clerk í†µí•© ë³¸ì¸ì¸ì¦**

```sql
-- ë³¸ì¸ì¸ì¦ í…Œì´ë¸”
CREATE TABLE identity_verifications (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id TEXT REFERENCES profiles(id) NOT NULL, -- Clerk User ID
  verification_type TEXT NOT NULL, -- 'toss_auth', 'mobile', 'card'
  ci TEXT UNIQUE NOT NULL, -- ë³¸ì¸ì¸ì¦ CI (ì•”í˜¸í™”)
  verification_data JSONB,
  verified_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  expires_at TIMESTAMP WITH TIME ZONE,
  is_active BOOLEAN DEFAULT TRUE
);

-- ë””ë°”ì´ìŠ¤ í•‘ê±°í”„ë¦°íŠ¸ í…Œì´ë¸”
CREATE TABLE device_fingerprints (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id TEXT REFERENCES profiles(id), -- Clerk User ID
  fingerprint_hash TEXT NOT NULL,
  user_agent TEXT,
  screen_resolution TEXT,
  timezone TEXT,
  language TEXT,
  ip_address INET,
  first_seen_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  last_seen_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  usage_count INTEGER DEFAULT 1
);
```

#### 3.2.2. 2ê³„ì¸µ: í–‰ë™ íŒ¨í„´ ë¶„ì„ ë° ì´ìƒ íƒì§€ (ì‹¤ì‹œê°„ íƒì§€)

**Clerk ì›¹í›…ì„ í™œìš©í•œ ì‚¬ìš©ì ë™ê¸°í™”**

```typescript
// app/api/webhooks/clerk/route.ts
import { headers } from 'next/headers';
import { NextRequest } from 'next/server';
import { Webhook } from 'svix';
import { createServerClient } from '@/lib/supabase/server';

export async function POST(req: NextRequest) {
  const WEBHOOK_SECRET = process.env.CLERK_WEBHOOK_SECRET!;
  const headerPayload = headers();
  const svix_id = headerPayload.get('svix-id');
  const svix_timestamp = headerPayload.get('svix-timestamp');
  const svix_signature = headerPayload.get('svix-signature');

  if (!svix_id || !svix_timestamp || !svix_signature) {
    return new Response('Error occured -- no svix headers', { status: 400 });
  }

  const payload = await req.json();
  const body = JSON.stringify(payload);

  const wh = new Webhook(WEBHOOK_SECRET);

  let evt: any;

  try {
    evt = wh.verify(body, {
      'svix-id': svix_id,
      'svix-timestamp': svix_timestamp,
      'svix-signature': svix_signature,
    }) as any;
  } catch (err) {
    console.error('Error verifying webhook:', err);
    return new Response('Error occured', { status: 400 });
  }

  const supabase = await createServerClient();

  switch (evt.type) {
    case 'user.created':
      // ìƒˆ ì‚¬ìš©ì í”„ë¡œí•„ ìƒì„±
      await supabase.from('profiles').insert({
        id: evt.data.id,
        email: evt.data.email_addresses[0].email_address,
        name: `${evt.data.first_name} ${evt.data.last_name}`,
        role: 'creator',
      });
      break;

    case 'user.updated':
      // ì‚¬ìš©ì ì •ë³´ ì—…ë°ì´íŠ¸
      await supabase
        .from('profiles')
        .update({
          email: evt.data.email_addresses[0].email_address,
          name: `${evt.data.first_name} ${evt.data.last_name}`,
        })
        .eq('id', evt.data.id);
      break;

    case 'user.deleted':
      // ì‚¬ìš©ì ì‚­ì œ (ì†Œí”„íŠ¸ ì‚­ì œ)
      await supabase.from('profiles').update({ is_active: false }).eq('id', evt.data.id);
      break;
  }

  return new Response('', { status: 200 });
}
```

### 3.3. í”„ë¡ íŠ¸ì—”ë“œ í˜ì´ì§€ êµ¬ì„± (Next.js 15 App Router + Clerk)

#### 3.3.1. ë¼ìš°íŒ… êµ¬ì¡°

Next.js 15 App Routerì™€ Clerk ë¯¸ë“¤ì›¨ì–´ë¥¼ í™œìš©í•œ ì´ì¤‘ íƒ€ê²Ÿ ê³µê°œí˜ì´ì§€ URL êµ¬ì¡°ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤. ë¹„ì¦ˆë‹ˆìŠ¤ì™€ í¬ë¦¬ì—ì´í„° ê°ê°ì„ ìœ„í•œ ì°¨ë³„í™”ëœ ê³µê°œí˜ì´ì§€ë¥¼ ì œê³µí•˜ë©°, ê³µìœ  í˜ì´ì§€ëŠ” domain/[slug] í˜•íƒœë¡œ ìœ ì§€ë©ë‹ˆë‹¤.

```
app/
â”œâ”€â”€ (main)/                        # ì´ì¤‘ íƒ€ê²Ÿ ê³µê°œí˜ì´ì§€ ì‹œìŠ¤í…œ (domain)
â”‚   â”œâ”€â”€ layout.tsx                 # ê³µí†µ ë ˆì´ì•„ì›ƒ (í…Œë§ˆ ì‹œìŠ¤í…œ í¬í•¨)
â”‚   â”‚
â”‚   # ë¹„ì¦ˆë‹ˆìŠ¤ íƒ€ê²Ÿ ì˜ì—­
â”‚   â”œâ”€â”€ page.tsx                   # ë¹„ì¦ˆë‹ˆìŠ¤ ë©”ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â””â”€â”€ page.tsx              # ë¹„ì¦ˆë‹ˆìŠ¤ ì„œë¹„ìŠ¤ ì†Œê°œ
â”‚   â”œâ”€â”€ pricing/
â”‚   â”‚   â””â”€â”€ page.tsx              # ë¹„ì¦ˆë‹ˆìŠ¤ ìš”ê¸ˆì œ
â”‚   â”œâ”€â”€ contact/
â”‚   â”‚   â””â”€â”€ page.tsx              # ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì˜í•˜ê¸°
â”‚   â”‚
â”‚   # í¬ë¦¬ì—ì´í„° íƒ€ê²Ÿ ì˜ì—­
â”‚   â”œâ”€â”€ creators/
â”‚   â”‚   â”œâ”€â”€ layout.tsx            # í¬ë¦¬ì—ì´í„° ì˜ì—­ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ page.tsx              # í¬ë¦¬ì—ì´í„° ë©”ì¸ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx          # í¬ë¦¬ì—ì´í„° ì„œë¹„ìŠ¤ ì†Œê°œ
â”‚   â”‚   â””â”€â”€ calculator/
â”‚   â”‚       â””â”€â”€ page.tsx          # í¬ë¦¬ì—ì´í„° ìˆ˜ìµ ê³„ì‚°ê¸°
â”‚   â”‚
â”‚   # ê³µí†µ ê¸°ëŠ¥
â”‚   â”œâ”€â”€ [slug]/                    # ê³µìœ  í˜ì´ì§€ (domain/[slug])
â”‚   â”‚   â””â”€â”€ page.tsx              # ê³µìœ  í˜ì´ì§€ ë Œë”ë§
â”‚   â”œâ”€â”€ sign-in/
â”‚   â”‚   â””â”€â”€ [[...sign-in]]/
â”‚   â”‚       â””â”€â”€ page.tsx          # í†µí•© ë¡œê·¸ì¸ í˜ì´ì§€
â”‚   â””â”€â”€ sign-up/
â”‚       â”œâ”€â”€ business/
â”‚       â”‚   â””â”€â”€ page.tsx          # ë¹„ì¦ˆë‹ˆìŠ¤ íšŒì›ê°€ì…
â”‚       â””â”€â”€ creator/
â”‚           â””â”€â”€ page.tsx          # í¬ë¦¬ì—ì´í„° íšŒì›ê°€ì…
â”œâ”€â”€ (creator)/                     # í¬ë¦¬ì—ì´í„° ëŒ€ì‹œë³´ë“œ (crt.domain)
â”‚   â”œâ”€â”€ layout.tsx                # í¬ë¦¬ì—ì´í„° ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ page.tsx                  # ëŒ€ì‹œë³´ë“œ í™ˆ
â”‚   â”œâ”€â”€ campaigns/
â”‚   â”‚   â”œâ”€â”€ page.tsx              # ì°¸ì—¬ ê°€ëŠ¥ ìº í˜ì¸
â”‚   â”‚   â”œâ”€â”€ active/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx          # ì§„í–‰ ì¤‘ì¸ ìº í˜ì¸
â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚       â””â”€â”€ submit/
â”‚   â”‚           â””â”€â”€ page.tsx      # ë¯¸ì…˜ ì œì¶œ
â”‚   â”œâ”€â”€ earnings/
â”‚   â”‚   â”œâ”€â”€ page.tsx              # ìˆ˜ìµ í˜„í™© (3ë‹¨ê³„ ì¶”ì²œ ìˆ˜ìµ í¬í•¨)
â”‚   â”‚   â””â”€â”€ withdraw/
â”‚   â”‚       â””â”€â”€ page.tsx          # ì¶œê¸ˆ ì‹ ì²­
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ page.tsx              # í˜ì´ì§€ ëª©ë¡
â”‚   â”‚   â”œâ”€â”€ new/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx          # ìƒˆ í˜ì´ì§€ ìƒì„±
â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚       â””â”€â”€ edit/
â”‚   â”‚           â””â”€â”€ page.tsx      # í˜ì´ì§€ í¸ì§‘
â”‚   â””â”€â”€ analytics/
â”‚       â””â”€â”€ page.tsx              # ì„±ê³¼ ë¶„ì„ (A/B í…ŒìŠ¤íŠ¸ ë„êµ¬ ì œê±°)
â”œâ”€â”€ (business)/                    # ë¹„ì¦ˆë‹ˆìŠ¤ ëŒ€ì‹œë³´ë“œ (biz.domain)
â”‚   â”œâ”€â”€ layout.tsx                # ë¹„ì¦ˆë‹ˆìŠ¤ ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ page.tsx                  # ëŒ€ì‹œë³´ë“œ í™ˆ
â”‚   â”œâ”€â”€ campaigns/
â”‚   â”‚   â”œâ”€â”€ page.tsx              # ìº í˜ì¸ ëª©ë¡
â”‚   â”‚   â”œâ”€â”€ new/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx          # ìº í˜ì¸ ìƒì„± ë§ˆë²•ì‚¬
â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚       â”œâ”€â”€ edit/
â”‚   â”‚       â”‚   â””â”€â”€ page.tsx      # ìº í˜ì¸ ìˆ˜ì •
â”‚   â”‚       â””â”€â”€ analytics/
â”‚   â”‚           â””â”€â”€ page.tsx      # ìº í˜ì¸ ì„±ê³¼ ë¶„ì„
â”‚   â”œâ”€â”€ creators/
â”‚   â”‚   â”œâ”€â”€ page.tsx              # í¬ë¦¬ì—ì´í„° íƒìƒ‰
â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚       â””â”€â”€ page.tsx          # í¬ë¦¬ì—ì´í„° í”„ë¡œí•„
â”‚   â””â”€â”€ billing/
â”‚       â””â”€â”€ page.tsx              # ê²°ì œ ê´€ë¦¬ (ì¸ë³´ì´ìŠ¤/í™˜ë¶ˆ ê¸°ëŠ¥ ì œê±°)
â”œâ”€â”€ (admin)/                       # ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (adm.domain)
â”‚   â”œâ”€â”€ layout.tsx                # ê´€ë¦¬ì ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ page.tsx                  # ìš´ì˜ ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”œâ”€â”€ page.tsx              # ì‚¬ìš©ì ëª©ë¡
â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚       â””â”€â”€ page.tsx          # ì‚¬ìš©ì ìƒì„¸
â”‚   â”œâ”€â”€ campaigns/
â”‚   â”‚   â”œâ”€â”€ pending/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx          # ìŠ¹ì¸ ëŒ€ê¸°
â”‚   â”‚   â””â”€â”€ reports/
â”‚   â”‚       â””â”€â”€ page.tsx          # ì‹ ê³  ê´€ë¦¬
â”‚   â”œâ”€â”€ monitoring/
â”‚   â”‚   â”œâ”€â”€ abuse/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx          # ì–´ë·°ì§• íƒì§€
â”‚   â”‚   â””â”€â”€ system/
â”‚   â”‚       â””â”€â”€ page.tsx          # ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§
â”‚   â””â”€â”€ settings/
â”‚       â””â”€â”€ page.tsx              # ì‹œìŠ¤í…œ ì„¤ì •
â”œâ”€â”€ api/                          # API ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ webhooks/
â”‚   â”‚   â”œâ”€â”€ clerk/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts          # Clerk ì›¹í›…
â”‚   â”‚   â”œâ”€â”€ toss/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts          # í† ìŠ¤í˜ì´ë¨¼ì¸  ì›¹í›…
â”‚   â”‚   â””â”€â”€ supabase/
â”‚   â”‚       â””â”€â”€ route.ts          # Supabase ì›¹í›…
â”‚   â””â”€â”€ og/
â”‚       â””â”€â”€ route.tsx             # OG ì´ë¯¸ì§€ ìƒì„± (ì œê±°)
â”œâ”€â”€ globals.css                   # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
â”œâ”€â”€ layout.tsx                    # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â””â”€â”€ middleware.ts                 # Clerk + ë„ë©”ì¸ ë¼ìš°íŒ… ë¯¸ë“¤ì›¨ì–´
```

#### 3.3.2. Clerk í†µí•© ë¯¸ë“¤ì›¨ì–´

```typescript
// middleware.ts
import { clerkMiddleware, createRouteMatcher } from '@clerk/nextjs/server';
import { NextResponse } from 'next/server';

const isProtectedRoute = createRouteMatcher(['/creator(.*)', '/business(.*)', '/admin(.*)']);

export default clerkMiddleware((auth, req) => {
  const hostname = req.headers.get('host') || '';
  const url = req.nextUrl.clone();

  // ì„œë¸Œë„ë©”ì¸ë³„ ë¼ìš°íŒ…
  if (hostname.includes('crt.')) {
    if (!auth().userId && isProtectedRoute(req)) {
      return auth().redirectToSignIn();
    }
    url.pathname = `/creator${url.pathname}`;
    return NextResponse.rewrite(url);
  }

  if (hostname.includes('biz.')) {
    if (!auth().userId && isProtectedRoute(req)) {
      return auth().redirectToSignIn();
    }
    url.pathname = `/business${url.pathname}`;
    return NextResponse.rewrite(url);
  }

  if (hostname.includes('adm.')) {
    if (!auth().userId && isProtectedRoute(req)) {
      return auth().redirectToSignIn();
    }
    url.pathname = `/admin${url.pathname}`;
    return NextResponse.rewrite(url);
  }

  // ë³´í˜¸ëœ ë¼ìš°íŠ¸ í™•ì¸
  if (isProtectedRoute(req)) {
    auth().protect();
  }

  return NextResponse.next();
});

export const config = {
  matcher: ['/((?!.*\\..*|_next).*)', '/', '/(api|trpc)(.*)'],
};
```

#### 3.3.3. ì´ì¤‘ íƒ€ê²Ÿ ë„¤ë¹„ê²Œì´ì…˜ ë° í…Œë§ˆ ì‹œìŠ¤í…œ

**ê³µí†µ ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸**:

```typescript
// app/(main)/layout.tsx
import { DualTargetNavigation } from '@/components/navigation/dual-target-navigation'
import { ThemeProvider } from '@/components/theme/theme-provider'
import { getDomainTarget } from '@/lib/utils/domain'

export default function MainLayout({ children }: { children: React.ReactNode }) {
  const target = getDomainTarget() // 'business' | 'creator'

  return (
    <ThemeProvider target={target}>
      <div className="min-h-screen">
        <DualTargetNavigation target={target} />
        <main>{children}</main>
        <CommonFooter />
      </div>
    </ThemeProvider>
  )
}
```

**ì´ì¤‘ íƒ€ê²Ÿ ë„¤ë¹„ê²Œì´ì…˜ ì»´í¬ë„ŒíŠ¸**:

```typescript
// components/navigation/dual-target-navigation.tsx
interface DualTargetNavigationProps {
  target: 'business' | 'creator';
  currentPath?: string;
}

const NAVIGATION_CONFIG = {
  business: {
    logo: 'Voosting for Business',
    theme: 'business-theme',
    menuItems: [
      { label: 'í™ˆ', href: '/' },
      { label: 'í¬ë¦¬ì—ì´í„°', href: '/creators', crossLink: true },
      { label: 'ì„œë¹„ìŠ¤', href: '/service' },
      { label: 'ìš”ê¸ˆì œ', href: '/pricing' },
      { label: 'ë¬¸ì˜í•˜ê¸°', href: '/contact' },
    ],
    authItems: [
      { label: 'ë¡œê·¸ì¸', href: '/sign-in' },
      { label: 'ë¬´ë£Œë¡œ ì‹œì‘í•˜ê¸°', href: '/sign-up/business', isPrimary: true },
    ],
  },
  creator: {
    logo: 'Voosting for Creators',
    theme: 'creator-theme',
    menuItems: [
      { label: 'í™ˆ', href: '/creators' },
      { label: 'ë¹„ì¦ˆë‹ˆìŠ¤', href: '/', crossLink: true },
      { label: 'ì„œë¹„ìŠ¤', href: '/creators/service' },
      { label: 'ìˆ˜ìµ ê³„ì‚°ê¸°', href: '/creators/calculator' },
    ],
    authItems: [
      { label: 'ë¡œê·¸ì¸', href: '/sign-in' },
      { label: 'ë¬´ë£Œë¡œ ì‹œì‘í•˜ê¸°', href: '/sign-up/creator', isPrimary: true },
    ],
  },
};
```

#### 3.3.4. ê³µìœ  í˜ì´ì§€ ë¼ìš°íŠ¸ (í…Œë§ˆ ì§€ì›)

```typescript
// app/(main)/[slug]/page.tsx
import { createServerClient } from '@/lib/supabase/server'
import { notFound } from 'next/navigation'
import { SharedPageRenderer } from '@/components/shared-page/renderer'

interface SharedPageProps {
  params: { slug: string }
}

export default async function SharedPage({ params }: SharedPageProps) {
  const supabase = await createServerClient()

  // ê³µìœ  í˜ì´ì§€ ë°ì´í„° ì¡°íšŒ (í…Œë§ˆ ì •ë³´ í¬í•¨)
  const { data: page, error } = await supabase
    .from('shared_pages')
    .select(`
      *,
      owner:profiles!shared_pages_owner_id_fkey(name, avatar_url),
      blocks:page_blocks(*),
      theme_settings
    `)
    .eq('slug', params.slug)
    .eq('is_published', true)
    .single()

  if (error || !page) {
    notFound()
  }

  // ë°©ë¬¸ì ìˆ˜ ì¦ê°€
  await supabase
    .from('shared_pages')
    .update({ view_count: page.view_count + 1 })
    .eq('id', page.id)

  return (
    <div className="min-h-screen" data-theme={page.theme_settings?.theme || 'default'}>
      <SharedPageRenderer
        page={page}
        blocks={page.blocks}
        owner={page.owner}
        themeSettings={page.theme_settings}
      />
    </div>
  )
}

// ê°œì„ ëœ ë©”íƒ€ë°ì´í„° (íƒ€ê²Ÿë³„ ë¸Œëœë”©)
export async function generateMetadata({ params }: SharedPageProps) {
  const supabase = await createServerClient()

  const { data: page } = await supabase
    .from('shared_pages')
    .select('title, description, owner:profiles(name)')
    .eq('slug', params.slug)
    .single()

  return {
    title: page?.title || 'Voosting ê³µìœ  í˜ì´ì§€',
    description: page?.description || `${page?.owner?.name}ë‹˜ì˜ Voosting í˜ì´ì§€ì…ë‹ˆë‹¤.`,
  }
}
```

### 3.4. ë¸”ë¡ ì—ë””í„° ìƒì„¸ ê¸°ëŠ¥

í¬ë¦¬ì—ì´í„°ê°€ ê³µìœ  í˜ì´ì§€ë¥¼ ììœ ë¡­ê²Œ êµ¬ì„±í•  ìˆ˜ ìˆë„ë¡ ë“œë˜ê·¸ ì•¤ ë“œë¡­ ë°©ì‹ì˜ ê°•ë ¥í•œ ë¸”ë¡ ì—ë””í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

#### 3.4.1. Clerk í†µí•© ë¸”ë¡ ì—ë””í„°

```typescript
// components/editor/block-editor.tsx
'use client'

import { useState, useCallback } from 'react'
import { useUser } from '@clerk/nextjs'
import { DndContext, closestCenter, DragEndEvent } from '@dnd-kit/core'
import { SortableContext, verticalListSortingStrategy } from '@dnd-kit/sortable'
import { BlockToolbar } from './block-toolbar'
import { SortableBlock } from './sortable-block'
import { useBlockEditor } from '@/hooks/use-block-editor'

interface BlockEditorProps {
  pageId: string
  initialBlocks: PageBlock[]
}

export function BlockEditor({ pageId, initialBlocks }: BlockEditorProps) {
  const { user } = useUser()
  const { blocks, addBlock, updateBlock, deleteBlock, reorderBlocks } = useBlockEditor({
    pageId,
    initialBlocks,
    userId: user?.id
  })

  const handleDragEnd = useCallback((event: DragEndEvent) => {
    const { active, over } = event

    if (over && active.id !== over.id) {
      reorderBlocks(active.id as string, over.id as string)
    }
  }, [reorderBlocks])

  if (!user) {
    return <div>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.</div>
  }

  return (
    <div className="max-w-4xl mx-auto">
      <BlockToolbar onAddBlock={addBlock} />

      <DndContext collisionDetection={closestCenter} onDragEnd={handleDragEnd}>
        <SortableContext items={blocks.map(b => b.id)} strategy={verticalListSortingStrategy}>
          <div className="space-y-4">
            {blocks.map((block) => (
              <SortableBlock
                key={block.id}
                block={block}
                onUpdate={updateBlock}
                onDelete={deleteBlock}
              />
            ))}
          </div>
        </SortableContext>
      </DndContext>
    </div>
  )
}
```

### 3.5. í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„

#### 3.5.1. ì´ì¤‘ íƒ€ê²Ÿ ê³µê°œí˜ì´ì§€ ì»´í¬ë„ŒíŠ¸

**DualTargetHeroSection ì»´í¬ë„ŒíŠ¸**:

```typescript
// components/sections/dual-target-hero-section.tsx
'use client'

import { Button } from '@/components/ui/button'
import { useTheme } from '@/contexts/theme-context'

interface HeroSectionProps {
  target: 'business' | 'creator'
}

const HERO_CONTENT = {
  business: {
    title: "AI ë§¤ì¹­ìœ¼ë¡œ ì™„ë²½í•œ í¬ë¦¬ì—ì´í„° ì°¾ê¸°",
    subtitle: "ê²€ì¦ëœ í¬ë¦¬ì—ì´í„° ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë¸Œëœë“œ ì„±ì¥ì„ ê°€ì†í™”í•˜ì„¸ìš”",
    features: [
      "íˆ¬ëª…í•œ ì„±ê³¼ ì¸¡ì • ë° ROI ë¶„ì„",
      "ê°„í¸í•œ ìº í˜ì¸ ìƒì„± ë° ê´€ë¦¬",
      "AI ê¸°ë°˜ í¬ë¦¬ì—ì´í„° ë§¤ì¹­"
    ],
    cta: {
      primary: "ìº í˜ì¸ ì‹œì‘í•˜ê¸°",
      secondary: "ì„œë¹„ìŠ¤ ì•Œì•„ë³´ê¸°"
    },
    stats: [
      { label: "ë“±ë¡ëœ í¬ë¦¬ì—ì´í„°", value: "10,000+" },
      { label: "ì„±ê³µí•œ ìº í˜ì¸", value: "2,500+" },
      { label: "í‰ê·  ROI", value: "320%" }
    ]
  },
  creator: {
    title: "íŒ”ë¡œì›Œ ì˜í–¥ë ¥ì„ ìˆ˜ìµìœ¼ë¡œ ì „í™˜í•˜ì„¸ìš”",
    subtitle: "3ë‹¨ê³„ ì¶”ì²œ ì‹œìŠ¤í…œê³¼ ì „ë¬¸ ë„êµ¬ë¡œ ë§ˆì¼€íŒ…í¬ë¦¬ì—ì´í„°ë¡œ ì„±ì¥í•˜ì„¸ìš”",
    features: [
      "3ë‹¨ê³„ ì¶”ì²œ ì‹œìŠ¤í…œ (10% + 5% + 2%)",
      "ììœ ë¡œìš´ í˜ì´ì§€ ë¹Œë”",
      "ì•ˆì •ì ì¸ ìˆ˜ìµ êµ¬ì¡°"
    ],
    cta: {
      primary: "í¬ë¦¬ì—ì´í„° ë“±ë¡í•˜ê¸°",
      secondary: "ìˆ˜ìµ ê³„ì‚°í•´ë³´ê¸°"
    },
    stats: [
      { label: "ì›”í‰ê·  ìˆ˜ìµ", value: "â‚©850,000" },
      { label: "í™œì„± í¬ë¦¬ì—ì´í„°", value: "8,500+" },
      { label: "ì¶”ì²œ ì„±ê³µë¥ ", value: "94%" }
    ]
  }
}

export default function DualTargetHeroSection({ target }: HeroSectionProps) {
  const content = HERO_CONTENT[target]
  const { theme } = useTheme()

  return (
    <section className={`hero-section ${theme}`}>
      <div className="container mx-auto px-6 py-20">
        <div className="text-center max-w-4xl mx-auto">
          <h1 className="text-5xl font-bold mb-6 text-primary">
            {content.title}
          </h1>
          <p className="text-xl text-secondary mb-8">
            {content.subtitle}
          </p>

          <div className="flex justify-center gap-4 mb-12">
            <Button variant="primary" size="lg">
              {content.cta.primary}
            </Button>
            <Button variant="secondary" size="lg">
              {content.cta.secondary}
            </Button>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
            {content.features.map((feature, index) => (
              <div key={index} className="feature-card">
                <p className="text-base font-medium">{feature}</p>
              </div>
            ))}
          </div>

          <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
            {content.stats.map((stat, index) => (
              <div key={index} className="stat-card">
                <div className="text-3xl font-bold text-accent mb-2">
                  {stat.value}
                </div>
                <div className="text-sm text-secondary">
                  {stat.label}
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </section>
  )
}
```

**CrossNavigationButton ì»´í¬ë„ŒíŠ¸**:

```typescript
// components/navigation/cross-navigation-button.tsx
'use client'

import { useState } from 'react'
import { useRouter } from 'next/navigation'
import { Button } from '@/components/ui/button'
import { ArrowRight, Users, Building } from 'lucide-react'

interface CrossNavigationButtonProps {
  currentTarget: 'business' | 'creator'
  className?: string
}

const CROSS_NAVIGATION = {
  business: {
    label: 'í¬ë¦¬ì—ì´í„°',
    description: 'í¬ë¦¬ì—ì´í„°ë¡œ ìˆ˜ìµ ì°½ì¶œí•˜ê¸°',
    targetUrl: '/creators',
    icon: Users,
    theme: 'creator-preview'
  },
  creator: {
    label: 'ë¹„ì¦ˆë‹ˆìŠ¤',
    description: 'ê´‘ê³ ì£¼ë¡œ ìº í˜ì¸ ì‹œì‘í•˜ê¸°',
    targetUrl: '/',
    icon: Building,
    theme: 'business-preview'
  }
}

export default function CrossNavigationButton({
  currentTarget,
  className
}: CrossNavigationButtonProps) {
  const [isHovered, setIsHovered] = useState(false)
  const router = useRouter()
  const crossNav = CROSS_NAVIGATION[currentTarget]
  const Icon = crossNav.icon

  const handleNavigation = () => {
    // í…Œë§ˆ ì „í™˜ íš¨ê³¼ì™€ í•¨ê»˜ ë„¤ë¹„ê²Œì´ì…˜
    document.documentElement.classList.add('theme-transition')
    setTimeout(() => {
      router.push(crossNav.targetUrl)
    }, 150)
  }

  return (
    <Button
      variant="outline"
      className={`cross-nav-button ${className}`}
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
      onClick={handleNavigation}
    >
      <Icon className="w-4 h-4 mr-2" />
      <div className="flex flex-col items-start">
        <span className="font-medium">{crossNav.label}</span>
        {isHovered && (
          <span className="text-xs text-muted-foreground">
            {crossNav.description}
          </span>
        )}
      </div>
      <ArrowRight className="w-4 h-4 ml-2" />
    </Button>
  )
}
```

**TargetThemeProvider ì»´í¬ë„ŒíŠ¸**:

```typescript
// components/theme/target-theme-provider.tsx
'use client'

import { createContext, useContext, useEffect, useState } from 'react'

interface ThemeContextType {
  target: 'business' | 'creator'
  theme: string
  setTheme: (theme: string) => void
}

const ThemeContext = createContext<ThemeContextType | undefined>(undefined)

export function TargetThemeProvider({
  children,
  initialTarget
}: {
  children: React.ReactNode
  initialTarget: 'business' | 'creator'
}) {
  const [target, setTarget] = useState(initialTarget)
  const [theme, setTheme] = useState(
    initialTarget === 'business' ? 'business-theme' : 'creator-theme'
  )

  useEffect(() => {
    // íƒ€ê²Ÿì— ë”°ë¥¸ í…Œë§ˆ ì ìš©
    const themeClass = target === 'business' ? 'business-theme' : 'creator-theme'
    document.documentElement.setAttribute('data-target', target)
    document.documentElement.setAttribute('data-theme', themeClass)
    setTheme(themeClass)
  }, [target])

  return (
    <ThemeContext.Provider value={{ target, theme, setTheme }}>
      {children}
    </ThemeContext.Provider>
  )
}

export function useTheme() {
  const context = useContext(ThemeContext)
  if (!context) {
    throw new Error('useTheme must be used within TargetThemeProvider')
  }
  return context
}
```

#### 3.5.2. í¬ë¦¬ì—ì´í„° ìˆ˜ìµ ëŒ€ì‹œë³´ë“œ (3ë‹¨ê³„ ì¶”ì²œ ìˆ˜ìµ)

```typescript
// components/creator/earnings-dashboard.tsx
'use client'

import { useState, useEffect } from 'react'
import { useUser } from '@clerk/nextjs'
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import { Progress } from '@/components/ui/progress'
import { useSupabaseWithAuth } from '@/lib/supabase/client'

export function EarningsDashboard() {
  const { user } = useUser()
  const { getAuthenticatedClient } = useSupabaseWithAuth()
  const [earnings, setEarnings] = useState({
    total: 0,
    campaign: 0,
    referral_l1: 0,
    referral_l2: 0,
    referral_l3: 0,
    referrals_count: {
      l1: 0,
      l2: 0,
      l3: 0
    }
  })

  useEffect(() => {
    if (user?.id) {
      loadEarningsData()
    }
  }, [user?.id])

  const loadEarningsData = async () => {
    const supabase = await getAuthenticatedClient()

    const { data: kpis } = await supabase
      .from('creator_kpis')
      .select('*')
      .eq('creator_id', user?.id)
      .single()

    if (kpis) {
      setEarnings({
        total: kpis.total_earnings,
        campaign: kpis.total_earnings - kpis.referral_earnings_l1 - kpis.referral_earnings_l2 - kpis.referral_earnings_l3,
        referral_l1: kpis.referral_earnings_l1,
        referral_l2: kpis.referral_earnings_l2,
        referral_l3: kpis.referral_earnings_l3,
        referrals_count: {
          l1: kpis.total_referrals_l1,
          l2: kpis.total_referrals_l2,
          l3: kpis.total_referrals_l3
        }
      })
    }
  }

  return (
    <div className="space-y-6">
      {/* ì´ ìˆ˜ìµ */}
      <Card>
        <CardHeader>
          <CardTitle>ì´ ìˆ˜ìµ</CardTitle>
        </CardHeader>
        <CardContent>
          <div className="text-3xl font-bold">
            {earnings.total.toLocaleString()}ì›
          </div>
        </CardContent>
      </Card>

      {/* ìˆ˜ìµ êµ¬ì„± */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        <Card>
          <CardHeader className="pb-2">
            <CardTitle className="text-sm font-medium">ìº í˜ì¸ ìˆ˜ìµ</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">
              {earnings.campaign.toLocaleString()}ì›
            </div>
          </CardContent>
        </Card>

        <Card>
          <CardHeader className="pb-2">
            <CardTitle className="text-sm font-medium">
              1ë‹¨ê³„ ì¶”ì²œ ìˆ˜ìµ (10%)
            </CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold text-green-600">
              {earnings.referral_l1.toLocaleString()}ì›
            </div>
            <div className="text-sm text-muted-foreground">
              {earnings.referrals_count.l1}ëª… ì¶”ì²œ
            </div>
          </CardContent>
        </Card>

        <Card>
          <CardHeader className="pb-2">
            <CardTitle className="text-sm font-medium">
              2ë‹¨ê³„ ì¶”ì²œ ìˆ˜ìµ (5%)
            </CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold text-blue-600">
              {earnings.referral_l2.toLocaleString()}ì›
            </div>
            <div className="text-sm text-muted-foreground">
              {earnings.referrals_count.l2}ëª… ì¶”ì²œ
            </div>
          </CardContent>
        </Card>

        <Card>
          <CardHeader className="pb-2">
            <CardTitle className="text-sm font-medium">
              3ë‹¨ê³„ ì¶”ì²œ ìˆ˜ìµ (2%)
            </CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold text-purple-600">
              {earnings.referral_l3.toLocaleString()}ì›
            </div>
            <div className="text-sm text-muted-foreground">
              {earnings.referrals_count.l3}ëª… ì¶”ì²œ
            </div>
          </CardContent>
        </Card>
      </div>

      {/* ì¶”ì²œ ë„¤íŠ¸ì›Œí¬ ì‹œê°í™” */}
      <Card>
        <CardHeader>
          <CardTitle>ì¶”ì²œ ë„¤íŠ¸ì›Œí¬</CardTitle>
        </CardHeader>
        <CardContent>
          <div className="space-y-4">
            <div className="flex items-center space-x-4">
              <div className="w-3 h-3 bg-green-500 rounded-full"></div>
              <span className="text-sm">1ë‹¨ê³„ (10%)</span>
              <Progress
                value={(earnings.referrals_count.l1 / Math.max(earnings.referrals_count.l1, 1)) * 100}
                className="flex-1"
              />
              <span className="text-sm font-medium">{earnings.referrals_count.l1}ëª…</span>
            </div>

            <div className="flex items-center space-x-4">
              <div className="w-3 h-3 bg-blue-500 rounded-full"></div>
              <span className="text-sm">2ë‹¨ê³„ (5%)</span>
              <Progress
                value={(earnings.referrals_count.l2 / Math.max(earnings.referrals_count.l1, 1)) * 100}
                className="flex-1"
              />
              <span className="text-sm font-medium">{earnings.referrals_count.l2}ëª…</span>
            </div>

            <div className="flex items-center space-x-4">
              <div className="w-3 h-3 bg-purple-500 rounded-full"></div>
              <span className="text-sm">3ë‹¨ê³„ (2%)</span>
              <Progress
                value={(earnings.referrals_count.l3 / Math.max(earnings.referrals_count.l1, 1)) * 100}
                className="flex-1"
              />
              <span className="text-sm font-medium">{earnings.referrals_count.l3}ëª…</span>
            </div>
          </div>
        </CardContent>
      </Card>
    </div>
  )
}
```

### 3.6. ìƒíƒœ ê´€ë¦¬ ë° Hooks

#### 3.6.1. Clerk + Supabase í†µí•© í›…

```typescript
// hooks/use-profile.ts
import { useState, useEffect } from 'react';
import { useUser } from '@clerk/nextjs';
import { useSupabaseWithAuth } from '@/lib/supabase/client';
import type { Profile } from '@/lib/database.types';

export function useProfile() {
  const { user, isLoaded } = useUser();
  const { getAuthenticatedClient } = useSupabaseWithAuth();
  const [profile, setProfile] = useState<Profile | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    if (isLoaded && user) {
      loadProfile();
    } else if (isLoaded && !user) {
      setProfile(null);
      setLoading(false);
    }
  }, [isLoaded, user]);

  const loadProfile = async () => {
    if (!user?.id) return;

    try {
      const supabase = await getAuthenticatedClient();
      const { data, error } = await supabase
        .from('profiles')
        .select('*')
        .eq('id', user.id)
        .single();

      if (!error && data) {
        setProfile(data);
      }
    } catch (error) {
      console.error('Error loading profile:', error);
    } finally {
      setLoading(false);
    }
  };

  const updateProfile = async (updates: Partial<Profile>) => {
    if (!user?.id) return;

    try {
      const supabase = await getAuthenticatedClient();
      const { data, error } = await supabase
        .from('profiles')
        .update(updates)
        .eq('id', user.id)
        .select()
        .single();

      if (!error && data) {
        setProfile(data);
        return data;
      }
    } catch (error) {
      console.error('Error updating profile:', error);
      throw error;
    }
  };

  return {
    profile,
    loading,
    updateProfile,
    refetch: loadProfile,
  };
}
```

### 3.7. ë°°í¬ ë° í™˜ê²½ ì„¤ì •

#### 3.7.1. í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

```typescript
// .env.local
# Clerk (ì¹´ì¹´ì˜¤ OAuth í¬í•¨)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...
CLERK_WEBHOOK_SECRET=whsec_...

# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...

# ë„ë©”ì¸ ì„¤ì •
NEXT_PUBLIC_MAIN_DOMAIN=domain
NEXT_PUBLIC_CREATOR_DOMAIN=crt.domain
NEXT_PUBLIC_BUSINESS_DOMAIN=biz.domain
NEXT_PUBLIC_ADMIN_DOMAIN=adm.domain

# ì™¸ë¶€ ì„œë¹„ìŠ¤
GEMINI_API_KEY=AIza...

# ì´ë©”ì¼ ë°œì†¡ (Resend)
RESEND_API_KEY=re_...
RESEND_FROM_EMAIL=noreply@cashup.kr

TOSS_CLIENT_KEY=test_ck_...
TOSS_SECRET_KEY=test_sk_...

# lib/env.ts
import { z } from 'zod'

const envSchema = z.object({
  NODE_ENV: z.enum(['development', 'test', 'production']),
  NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY: z.string(),
  CLERK_SECRET_KEY: z.string(),
  CLERK_WEBHOOK_SECRET: z.string(),
  NEXT_PUBLIC_SUPABASE_URL: z.string().url(),
  NEXT_PUBLIC_SUPABASE_ANON_KEY: z.string(),
  SUPABASE_SERVICE_ROLE_KEY: z.string(),
  GEMINI_API_KEY: z.string(),
  RESEND_API_KEY: z.string(),
  RESEND_FROM_EMAIL: z.string().email(),
  TOSS_CLIENT_KEY: z.string(),
  TOSS_SECRET_KEY: z.string(),
})

export const env = envSchema.parse(process.env)
```

## 4. ì´ì¤‘ íƒ€ê²Ÿ í…Œë§ˆ ì‹œìŠ¤í…œ

### 4.1. í…Œë§ˆ ì•„í‚¤í…ì²˜ ê°œìš”

Voostingì˜ ì´ì¤‘ íƒ€ê²Ÿ í…Œë§ˆ ì‹œìŠ¤í…œì€ ë¹„ì¦ˆë‹ˆìŠ¤ì™€ í¬ë¦¬ì—ì´í„° ê°ê°ì˜ íŠ¹ì„±ì— ìµœì í™”ëœ ë””ìì¸ì„ ì œê³µí•˜ë©´ì„œë„, ì¼ê´€ëœ ë¸Œëœë“œ ì•„ì´ë´í‹°í‹°ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.

#### 4.1.1. í•µì‹¬ ì„¤ê³„ ì›ì¹™

- **íƒ€ê²Ÿ ìµœì í™”**: ê° ì‚¬ìš©ì ê·¸ë£¹ì˜ íŠ¹ì„±ê³¼ ë‹ˆì¦ˆì— ë§ì¶˜ ë””ìì¸
- **ë¸Œëœë“œ ì¼ê´€ì„±**: ëª¨ë“  íƒ€ê²Ÿì—ì„œ í†µì¼ëœ Voosting ë¸Œëœë“œ ê²½í—˜
- **ìœ ì—°í•œ ì „í™˜**: ë¶€ë“œëŸ¬ìš´ íƒ€ê²Ÿ ê°„ ì „í™˜ ë° í¬ë¡œìŠ¤ ë„¤ë¹„ê²Œì´ì…˜
- **ì ‘ê·¼ì„± ìš°ì„ **: ëª¨ë“  ì‚¬ìš©ìë¥¼ ìœ„í•œ í¬ìš©ì  ë””ìì¸

### 4.2. íƒ€ê²Ÿë³„ í…Œë§ˆ ì •ì˜

#### 4.2.1. ë¹„ì¦ˆë‹ˆìŠ¤ í…Œë§ˆ (Business Theme)

**ëŒ€ìƒ**: ê´‘ê³ ì£¼, ë§ˆì¼€íŒ… ë‹´ë‹¹ì, ì¤‘ì†Œê¸°ì—… ëŒ€í‘œ
**ë””ìì¸ ì»¨ì…‰**: ì „ë¬¸ì , ì‹ ë¢°ê°, ì„±ê³¼ ì¤‘ì‹¬

**ì»¬ëŸ¬ íŒ”ë ˆíŠ¸**:

```css
/* ë¹„ì¦ˆë‹ˆìŠ¤ í…Œë§ˆ CSS ë³€ìˆ˜ */
:root[data-target='business'] {
  --primary-color: #3b82f6; /* ì „ë¬¸ì ì¸ ë¸”ë£¨ */
  --secondary-color: #22c55e; /* ì„±ê³µì„ ë‚˜íƒ€ë‚´ëŠ” ê·¸ë¦° */
  --accent-color: #1e40af; /* ì§„í•œ ë¸”ë£¨ */
  --background-primary: #ffffff;
  --background-secondary: #f8fafc;
  --text-primary: #1e293b;
  --text-secondary: #64748b;
  --border-color: #e2e8f0;
}
```

**íƒ€ì´í¬ê·¸ë˜í”¼**:

- í—¤ë“œë¼ì¸: ê°•ë ¥í•˜ê³  ì„íŒ©íŠ¸ ìˆëŠ” í°íŠ¸
- ë³¸ë¬¸: ê°€ë…ì„± ë†’ì€ ì‚°ì„¸ë¦¬í”„
- ë©”íŠ¸ë¦­/ìˆ«ì: ëª¨ë…¸ìŠ¤í˜ì´ìŠ¤ í°íŠ¸ë¡œ ë°ì´í„° ê°•ì¡°

**UI ìš”ì†Œ**:

- ë‚ ì¹´ë¡œìš´ ëª¨ì„œë¦¬ (4px ë°˜ê²½)
- ê·¸ë¼ë°ì´ì…˜ íš¨ê³¼ ìµœì†Œí™”
- ë°ì´í„° ì‹œê°í™” ì¤‘ì‹¬
- ì„±ê³¼ ì§€í‘œ ê°•ì¡°

#### 4.2.2. í¬ë¦¬ì—ì´í„° í…Œë§ˆ (Creator Theme)

**ëŒ€ìƒ**: ì¸í”Œë£¨ì–¸ì„œ, ì½˜í…ì¸  í¬ë¦¬ì—ì´í„°, ë§ˆì¼€íŒ…í¬ë¦¬ì—ì´í„°
**ë””ìì¸ ì»¨ì…‰**: ì°½ì˜ì , ê°œì„±ì , ììœ ë¡œì›€

**ì»¬ëŸ¬ íŒ”ë ˆíŠ¸**:

```css
/* í¬ë¦¬ì—ì´í„° í…Œë§ˆ CSS ë³€ìˆ˜ */
:root[data-target='creator'] {
  --primary-color: #22c55e; /* ìƒë™ê° ìˆëŠ” ê·¸ë¦° */
  --secondary-color: #8b5cf6; /* ì°½ì˜ì ì¸ í¼í”Œ */
  --accent-color: #059669; /* ì§„í•œ ê·¸ë¦° */
  --background-primary: #ffffff;
  --background-secondary: #f0fdf4;
  --text-primary: #14532d;
  --text-secondary: #16a34a;
  --border-color: #bbf7d0;
}
```

**íƒ€ì´í¬ê·¸ë˜í”¼**:

- í—¤ë“œë¼ì¸: ì¹œê·¼í•˜ê³  ì ‘ê·¼ ê°€ëŠ¥í•œ í°íŠ¸
- ë³¸ë¬¸: ìì—°ìŠ¤ëŸ½ê³  ì½ê¸° í¸í•œ í°íŠ¸
- ê°•ì¡°: ì»¬ëŸ¬í’€í•œ í•˜ì´ë¼ì´íŠ¸

**UI ìš”ì†Œ**:

- ë‘¥ê·¼ ëª¨ì„œë¦¬ (12px ë°˜ê²½)
- ê·¸ë¼ë°ì´ì…˜ ë° ê·¸ë¦¼ì íš¨ê³¼
- ì¼ëŸ¬ìŠ¤íŠ¸ë ˆì´ì…˜ ì¤‘ì‹¬
- ê°œì„± í‘œí˜„ ë„êµ¬ ê°•ì¡°

### 4.3. í…Œë§ˆ ì „í™˜ ì‹œìŠ¤í…œ

#### 4.3.1. ë™ì  í…Œë§ˆ ì „í™˜

```typescript
// lib/theme/theme-switcher.ts
export class ThemeSwitcher {
  private static readonly TRANSITION_DURATION = 300;

  static async switchTarget(from: 'business' | 'creator', to: 'business' | 'creator') {
    // ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
    document.documentElement.classList.add('theme-transitioning');

    // CSS ë³€ìˆ˜ ì ì§„ì  ë³€ê²½
    await this.animateThemeChange(from, to);

    // í…Œë§ˆ ì†ì„± ì—…ë°ì´íŠ¸
    document.documentElement.setAttribute('data-target', to);
    document.documentElement.setAttribute('data-theme', `${to}-theme`);

    // ì „í™˜ ì™„ë£Œ
    setTimeout(() => {
      document.documentElement.classList.remove('theme-transitioning');
    }, this.TRANSITION_DURATION);
  }

  private static async animateThemeChange(
    from: 'business' | 'creator',
    to: 'business' | 'creator',
  ) {
    const fromTheme = THEME_CONFIGS[from];
    const toTheme = THEME_CONFIGS[to];

    // ì»¬ëŸ¬ ê°’ë“¤ì„ ì ì§„ì ìœ¼ë¡œ ë³€ê²½
    return new Promise((resolve) => {
      let progress = 0;
      const interval = setInterval(() => {
        progress += 0.1;

        // ê° ì»¬ëŸ¬ ê°’ ë³´ê°„
        this.interpolateColors(fromTheme, toTheme, progress);

        if (progress >= 1) {
          clearInterval(interval);
          resolve(void 0);
        }
      }, 30);
    });
  }
}
```

#### 4.3.2. í¬ë¡œìŠ¤ ë„¤ë¹„ê²Œì´ì…˜ UX

- **í˜¸ë²„ í”„ë¦¬ë·°**: íƒ€ê²Ÿ ì „í™˜ ë²„íŠ¼ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ ë¯¸ë¦¬ë³´ê¸°
- **ë¶€ë“œëŸ¬ìš´ ì „í™˜**: 300ms ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ ìì—°ìŠ¤ëŸ¬ìš´ í…Œë§ˆ ë³€ê²½
- **ì»¨í…ìŠ¤íŠ¸ ìœ ì§€**: ì‚¬ìš©ìì˜ í˜„ì¬ ìœ„ì¹˜ì™€ ìƒíƒœ ì •ë³´ ë³´ì¡´
- **ë¸Œë ˆë“œí¬ëŸ¼ ì—…ë°ì´íŠ¸**: ë„¤ë¹„ê²Œì´ì…˜ ê²½ë¡œ ì‹¤ì‹œê°„ ë°˜ì˜

### 4.4. ê³µí†µ ë””ìì¸ ì‹œìŠ¤í…œ

#### 4.4.1. ë¸Œëœë“œ ì•„ì´ë´í‹°í‹°

```css
/* ê³µí†µ ë¸Œëœë“œ ìš”ì†Œ */
:root {
  /* ë¡œê³  ë° ë¸Œëœë”© */
  --brand-logo-height: 32px;
  --brand-font-family: 'Pretendard Variable', sans-serif;

  /* ê³µí†µ ìŠ¤í˜ì´ì‹± */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-2xl: 48px;

  /* ê³µí†µ ì• ë‹ˆë©”ì´ì…˜ */
  --transition-fast: 150ms ease;
  --transition-normal: 300ms ease;
  --transition-slow: 500ms ease;

  /* ê³µí†µ ê·¸ë¦¼ì */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
}
```

#### 4.4.2. ë°˜ì‘í˜• ë¸Œë ˆì´í¬í¬ì¸íŠ¸

```css
/* ê³µí†µ ë°˜ì‘í˜• ë¸Œë ˆì´í¬í¬ì¸íŠ¸ */
:root {
  --breakpoint-sm: 640px; /* ëª¨ë°”ì¼ */
  --breakpoint-md: 768px; /* íƒœë¸”ë¦¿ */
  --breakpoint-lg: 1024px; /* ë°ìŠ¤í¬í†± */
  --breakpoint-xl: 1280px; /* ëŒ€í˜• í™”ë©´ */
}

/* íƒ€ê²Ÿë³„ ë°˜ì‘í˜• ì¡°ì • */
@media (max-width: 768px) {
  [data-target='business'] {
    --font-size-hero: 2.5rem;
    --spacing-section: 3rem;
  }

  [data-target='creator'] {
    --font-size-hero: 2.25rem;
    --spacing-section: 2.5rem;
  }
}
```

### 4.5. ì»´í¬ë„ŒíŠ¸ í…Œë§ˆ ì ìš©

#### 4.5.1. í…Œë§ˆ ì¸ì‹ ì»´í¬ë„ŒíŠ¸

```typescript
// components/ui/themed-button.tsx
interface ThemedButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary' | 'outline'
  target?: 'business' | 'creator' | 'auto'
}

export function ThemedButton({
  variant = 'primary',
  target = 'auto',
  className,
  children,
  ...props
}: ThemedButtonProps) {
  const { currentTarget } = useTheme()
  const appliedTarget = target === 'auto' ? currentTarget : target

  const variantClasses = {
    primary: `btn-primary-${appliedTarget}`,
    secondary: `btn-secondary-${appliedTarget}`,
    outline: `btn-outline-${appliedTarget}`
  }

  return (
    <button
      className={cn(
        'btn-base',
        variantClasses[variant],
        className
      )}
      {...props}
    >
      {children}
    </button>
  )
}
```

#### 4.5.2. í…Œë§ˆë³„ ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼

```css
/* ë¹„ì¦ˆë‹ˆìŠ¤ íƒ€ê²Ÿ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.btn-primary-business {
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
  color: white;
  border-radius: 4px;
  font-weight: 600;
  box-shadow: var(--shadow-md);
  transition: var(--transition-fast);
}

.btn-primary-business:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-lg);
}

/* í¬ë¦¬ì—ì´í„° íƒ€ê²Ÿ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.btn-primary-creator {
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
  color: white;
  border-radius: 12px;
  font-weight: 500;
  box-shadow: var(--shadow-sm);
  transition: var(--transition-normal);
}

.btn-primary-creator:hover {
  transform: scale(1.02);
  box-shadow: 0 8px 25px rgba(34, 197, 94, 0.3);
}
```

### 4.6. í…Œë§ˆ ê´€ë¦¬ ë„êµ¬

#### 4.6.1. í…Œë§ˆ í”„ë¦¬ë·° ì‹œìŠ¤í…œ

```typescript
// components/admin/theme-preview.tsx
export function ThemePreview({ target }: { target: 'business' | 'creator' }) {
  return (
    <div className={`theme-preview`} data-target={target}>
      <div className="preview-header">
        <div className="preview-logo">Voosting</div>
        <div className="preview-nav">
          <span>í™ˆ</span>
          <span>ì„œë¹„ìŠ¤</span>
          <span>ë¡œê·¸ì¸</span>
        </div>
      </div>

      <div className="preview-hero">
        <h1 className="preview-title">
          {target === 'business'
            ? 'AI ë§¤ì¹­ìœ¼ë¡œ ì™„ë²½í•œ í¬ë¦¬ì—ì´í„° ì°¾ê¸°'
            : 'íŒ”ë¡œì›Œ ì˜í–¥ë ¥ì„ ìˆ˜ìµìœ¼ë¡œ ì „í™˜í•˜ì„¸ìš”'
          }
        </h1>
        <ThemedButton variant="primary" target={target}>
          {target === 'business' ? 'ìº í˜ì¸ ì‹œì‘í•˜ê¸°' : 'í¬ë¦¬ì—ì´í„° ë“±ë¡í•˜ê¸°'}
        </ThemedButton>
      </div>

      <div className="preview-features">
        <div className="feature-card">íŠ¹ì§• 1</div>
        <div className="feature-card">íŠ¹ì§• 2</div>
        <div className="feature-card">íŠ¹ì§• 3</div>
      </div>
    </div>
  )
}
```

#### 4.6.2. í…Œë§ˆ ì»¤ìŠ¤í„°ë§ˆì´ì§• ë„êµ¬

```typescript
// components/admin/theme-customizer.tsx
export function ThemeCustomizer() {
  const [customColors, setCustomColors] = useState({
    business: { ...DEFAULT_BUSINESS_COLORS },
    creator: { ...DEFAULT_CREATOR_COLORS }
  })

  const handleColorChange = (
    target: 'business' | 'creator',
    colorKey: string,
    value: string
  ) => {
    setCustomColors(prev => ({
      ...prev,
      [target]: {
        ...prev[target],
        [colorKey]: value
      }
    }))

    // ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° ì ìš©
    applyCustomTheme(target, { [colorKey]: value })
  }

  return (
    <div className="theme-customizer">
      <Tabs defaultValue="business">
        <TabsList>
          <TabsTrigger value="business">ë¹„ì¦ˆë‹ˆìŠ¤ í…Œë§ˆ</TabsTrigger>
          <TabsTrigger value="creator">í¬ë¦¬ì—ì´í„° í…Œë§ˆ</TabsTrigger>
        </TabsList>

        <TabsContent value="business">
          <ColorCustomizer
            target="business"
            colors={customColors.business}
            onChange={handleColorChange}
          />
        </TabsContent>

        <TabsContent value="creator">
          <ColorCustomizer
            target="creator"
            colors={customColors.creator}
            onChange={handleColorChange}
          />
        </TabsContent>
      </Tabs>
    </div>
  )
}
```

## 5. ê°œë°œ ê°€ì´ë“œë¼ì¸

### 4.1. ì½”ë“œ ê·œì¹™

- **TypeScript**: strict ëª¨ë“œ í™œì„±í™”, Zod ìŠ¤í‚¤ë§ˆ ê²€ì¦ í•„ìˆ˜
- **ESLint**: Next.js ê¶Œì¥ ì„¤ì • + Prettier í†µí•©
- **ì»´í¬ë„ŒíŠ¸**: ì„œë²„/í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ëª…í™•íˆ ë¶„ë¦¬
- **ì¸ì¦**: Clerk í›…ê³¼ ë¯¸ë“¤ì›¨ì–´ ì ê·¹ í™œìš©
- **ë„¤ì´ë°**: íŒŒì¼ëª…ì€ kebab-case, ì»´í¬ë„ŒíŠ¸ëª…ì€ PascalCase
- **ì„í¬íŠ¸**: ì ˆëŒ€ ê²½ë¡œ ì‚¬ìš© (@/components, @/lib)

### 4.2. ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
cashup/
â”œâ”€â”€ app/                           # Next.js 15 App Router
â”‚   â”œâ”€â”€ (main)/                   # ë©”ì¸ ë„ë©”ì¸ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ (creator)/                # í¬ë¦¬ì—ì´í„° ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ (business)/               # ë¹„ì¦ˆë‹ˆìŠ¤ ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ (admin)/                  # ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ api/                      # API ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ globals.css               # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
â”‚   â”œâ”€â”€ layout.tsx                # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â””â”€â”€ middleware.ts             # Clerk + ë„ë©”ì¸ ë¯¸ë“¤ì›¨ì–´
â”œâ”€â”€ components/                   # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ui/                       # Shadcn/ui ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ blocks/                   # í˜ì´ì§€ ë¸”ë¡ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ forms/                    # í¼ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ charts/                   # ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸ (A/B í…ŒìŠ¤íŠ¸ ì œê±°)
â”‚   â””â”€â”€ shared-page/              # ê³µìœ  í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ hooks/                        # ì»¤ìŠ¤í…€ React Hooks
â”œâ”€â”€ lib/                          # ìœ í‹¸ë¦¬í‹° ë° ì„¤ì •
â”‚   â”œâ”€â”€ supabase/                 # Supabase í´ë¼ì´ì–¸íŠ¸ (Clerk í†µí•©)
â”‚   â”œâ”€â”€ clerk/                    # Clerk ì„¤ì •
â”‚   â”œâ”€â”€ utils.ts                  # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ validations.ts            # Zod ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ constants.ts              # ìƒìˆ˜ ì •ì˜
â”œâ”€â”€ stores/                       # Zustand ìŠ¤í† ì–´
â”œâ”€â”€ types/                        # TypeScript íƒ€ì… ì •ì˜
â”œâ”€â”€ supabase/                     # Supabase ì„¤ì •
â”‚   â”œâ”€â”€ migrations/               # DB ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”œâ”€â”€ functions/                # Edge Functions
â”‚   â””â”€â”€ config.toml               # Supabase ì„¤ì •
â”œâ”€â”€ public/                       # ì •ì  íŒŒì¼
â”œâ”€â”€ tests/                        # í…ŒìŠ¤íŠ¸ íŒŒì¼
â”œâ”€â”€ package.json
â”œâ”€â”€ next.config.js               # Next.js ì„¤ì •
â”œâ”€â”€ tailwind.config.ts           # Tailwind ì„¤ì •
â””â”€â”€ tsconfig.json                # TypeScript ì„¤ì •
```

### 4.3. í…ŒìŠ¤íŒ… ì „ëµ

- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: Vitestë¥¼ ì‚¬ìš©í•œ ì»´í¬ë„ŒíŠ¸ ë° ìœ í‹¸ë¦¬í‹° í…ŒìŠ¤íŠ¸
- **í†µí•© í…ŒìŠ¤íŠ¸**: React Testing Libraryë¥¼ ì‚¬ìš©í•œ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
- **E2E í…ŒìŠ¤íŠ¸**: Playwrightë¥¼ ì‚¬ìš©í•œ ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
- **ì¸ì¦ í…ŒìŠ¤íŠ¸**: Clerk ì¸ì¦ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
- **Supabase í…ŒìŠ¤íŠ¸**: ë¡œì»¬ Supabase í™˜ê²½ì—ì„œ DB í…ŒìŠ¤íŠ¸

## 5. êµ¬í˜„ ë¡œë“œë§µ

### 5.1. 1ë‹¨ê³„: ê¸°ë°˜ êµ¬ì¶• (1-2ì£¼)

- **Next.js 15 í”„ë¡œì íŠ¸ ì„¤ì • ë° ê¸°ë³¸ êµ¬ì¡° êµ¬ì¶•**
- **Clerk ì¸ì¦ ì‹œìŠ¤í…œ ì„¤ì • (ì¹´ì¹´ì˜¤ OAuth í¬í•¨)**
- **Supabase í”„ë¡œì íŠ¸ ìƒì„± ë° ì´ˆê¸° ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì„¤ê³„**
- **Tailwind CSS v4 ì„¤ì • ë° Shadcn/ui í†µí•©**
- **ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸ ê°œë°œ (Button, Card, Input ë“±)**

### 5.2. 2ë‹¨ê³„: ì‚¬ìš©ì ê´€ë¦¬ ë° ì¸ì¦ (2ì£¼)

- **Clerkì™€ Supabase í†µí•© ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„**
- **ì‚¬ìš©ì ì—­í• ë³„ ëŒ€ì‹œë³´ë“œ ë¼ìš°íŒ… (middleware í™œìš©)**
- **í”„ë¡œí•„ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬ì¶• (Clerk ë©”íƒ€ë°ì´í„° ì—°ë™)**
- **í† ìŠ¤ 1ì› ì¸ì¦ API ì—°ë™**
- **Row Level Security (RLS) + Clerk í† í° ê²€ì¦ ì •ì±… ì„¤ì •**

### 5.3. 3ë‹¨ê³„: í•µì‹¬ ë°ì´í„° ëª¨ë¸ êµ¬ì¶• (2-3ì£¼)

- **ìº í˜ì¸, ê³µìœ  í˜ì´ì§€, ì‚¬ìš©ì KPI í…Œì´ë¸” ìƒì„±**
- **3ë‹¨ê³„ ì¶”ì²œ ì‹œìŠ¤í…œ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ êµ¬í˜„**
- **Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ë° ì‹œë“œ ë°ì´í„° êµ¬ì„±**
- **TypeScript íƒ€ì… ìë™ ìƒì„± ë° Clerk í†µí•©**
- **Supabase Realtime êµ¬ë… ì‹œìŠ¤í…œ êµ¬í˜„**

### 5.4. 4ë‹¨ê³„: í•µì‹¬ ê¸°ëŠ¥ ê°œë°œ (3-4ì£¼)

- **ìº í˜ì¸ CRUD ê¸°ëŠ¥ (Server Actions í™œìš©)**
- **ë“œë˜ê·¸ ì•¤ ë“œë¡­ ë¸”ë¡ ì—ë””í„° êµ¬í˜„**
- **ê³µìœ  í˜ì´ì§€ ë Œë”ë§ (domain/[slug] êµ¬ì¡°)**
- **AI ë§¤ì¹­ ì‹œìŠ¤í…œ (Google Gemini API ì—°ë™)**
- **ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ (Supabase Realtime)**

### 5.5. 5ë‹¨ê³„: ì¶”ì²œ ì‹œìŠ¤í…œ ë° ìˆ˜ìµ ê´€ë¦¬ (2-3ì£¼)

- **3ë‹¨ê³„ ì¶”ì²œ ë„¤íŠ¸ì›Œí¬ êµ¬í˜„ (1ë‹¨ê³„ 10%, 2ë‹¨ê³„ 5%, 3ë‹¨ê³„ 2%)**
- **ìˆ˜ìµ ê³„ì‚° ë° ë¶„ë°° ë¡œì§ êµ¬í˜„**
- **í† ìŠ¤í˜ì´ë¨¼ì¸  API í†µí•© ë° ì›¹í›… ì²˜ë¦¬**
- **ì¶œê¸ˆ ì‹œìŠ¤í…œ êµ¬ì¶•**
- **ìë™ ì •ì‚° ì‹œìŠ¤í…œ (Supabase Edge Functions + Cron)**

### 5.6. 6ë‹¨ê³„: ì–´ë·°ì§• ë°©ì§€ ë° ë³´ì•ˆ ê°•í™” (2ì£¼)

- **ë‹¤ì¸µ ë°©ì–´ ì²´ê³„ êµ¬í˜„ (IP ì°¨ë‹¨, ë””ë°”ì´ìŠ¤ í•‘ê±°í”„ë¦°íŒ…)**
- **Supabase Edge Functionsë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ì´ìƒ íƒì§€**
- **ê´€ë¦¬ì ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•**
- **ì‚¬ìš©ì ì‹ ê³  ë° ì œì¬ ì‹œìŠ¤í…œ**
- **Clerk ë³´ì•ˆ ì •ì±… ê°•í™”**

### 5.7. 7ë‹¨ê³„: ì„±ëŠ¥ ìµœì í™” ë° ë°°í¬ (1-2ì£¼)

- **Next.js ì„±ëŠ¥ ìµœì í™” (ISR, Edge Functions í™œìš©)**
- **Supabase ì¿¼ë¦¬ ìµœì í™” ë° ì¸ë±ì‹±**
- **ì´ë¯¸ì§€ ìµœì í™” ë° CDN ì„¤ì •**
- **E2E í…ŒìŠ¤íŠ¸ ì‘ì„± ë° CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•**
- **Vercel í”„ë¡œë•ì…˜ ë°°í¬ ë° ë„ë©”ì¸ ì„¤ì •**
- **Clerk + Supabase ìš´ì˜ í™˜ê²½ ì„¤ì •**

### 5.8. 8ë‹¨ê³„: ê³ ë„í™” ë° ìš´ì˜ (ì§€ì†ì )

- **ì¶”ì²œ ë„¤íŠ¸ì›Œí¬ ë¶„ì„ ë„êµ¬ ê°œë°œ**
- **ê³ ê¸‰ ë¶„ì„ ëŒ€ì‹œë³´ë“œ ê°œë°œ**
- **ëª¨ë°”ì¼ ë°˜ì‘í˜• ìµœì í™”**
- **PWA ê¸°ëŠ¥ ì¶”ê°€**
- **ë‹¤êµ­ì–´ ì§€ì› (i18n)**
- **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ë° ìµœì í™”**
